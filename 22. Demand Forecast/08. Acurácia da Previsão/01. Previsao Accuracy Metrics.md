## Acur√°cia da Previs√£o e M√©tricas de Avalia√ß√£o

### Introdu√ß√£o
Como vimos anteriormente, a previs√£o de demanda √© uma atividade crucial para qualquer organiza√ß√£o, permitindo o planejamento de recursos e a tomada de decis√µes informadas [^1]. No entanto, as previs√µes nunca s√£o perfeitas, e a acur√°cia dessas previs√µes √© um fator cr√≠tico a ser avaliado. Este cap√≠tulo explora m√©todos para avaliar a precis√£o da previs√£o, apresentando m√©tricas como o Erro M√©dio Absoluto (MAD), o Erro Quadr√°tico M√©dio (MSE) e o Erro Percentual Absoluto M√©dio (MAPE). Compreender essas m√©tricas √© fundamental para selecionar o modelo de previs√£o mais adequado e para ajustar as decis√µes de acordo com a confian√ßa na previs√£o.

### Conceitos Fundamentais
A acur√°cia da previs√£o √© avaliada comparando a previs√£o com a demanda real [^6]. *A precis√£o da previs√£o √© uma medida de qu√£o bem as previs√µes correspondem aos valores reais*, e diversas m√©tricas podem ser utilizadas para quantificar essa correspond√™ncia [^6]. O erro de previs√£o √© definido como a diferen√ßa entre a demanda real e a previs√£o [^6, 3.4]:
$$ \text{Erro de Previs√£o} = \text{Demanda Real} - \text{Previs√£o} $$

Como as previs√µes antecipam a demanda futura, n√£o podemos comparar diretamente com a demanda real no momento da gera√ß√£o da previs√£o [^6]. Contudo, podemos criar "previs√µes do passado" utilizando um modelo espec√≠fico, comparando essas previs√µes com os valores hist√≥ricos correspondentes [^6]. Este processo, realizado nas tabelas 3.2 a 3.4 [^6], envolve formular previs√µes para per√≠odos passados e comparar essas previs√µes com a demanda real observada para esses per√≠odos.

**Observa√ß√£o 1:** √â importante notar que, ao avaliar a acur√°cia de um modelo, √© comum utilizar um conjunto de dados de treinamento para construir o modelo e um conjunto de dados de teste (ou valida√ß√£o) para avaliar o seu desempenho. Essa pr√°tica ajuda a garantir que o modelo n√£o esteja simplesmente "decorando" os dados de treinamento, mas sim generalizando para dados n√£o vistos.

As principais m√©tricas usadas para avaliar a precis√£o da previs√£o incluem:
1. **Erro M√©dio Absoluto (MAD)**: O MAD calcula a m√©dia dos valores absolutos dos erros de previs√£o [^6]. Esta m√©trica √© calculada pela f√≥rmula:

$$
MAD = \frac{\sum{\mid \text{Demanda Real} - \text{Previs√£o} \mid}}{n}
$$
onde $n$ √© o n√∫mero de per√≠odos inclu√≠dos no c√°lculo. O MAD fornece uma medida da magnitude m√©dia dos erros, sem considerar se os erros s√£o positivos ou negativos [^6]. Por exemplo, um MAD de 218,43 significa que, em m√©dia, as previs√µes do modelo SMA com $n=5$ est√£o "desligadas" da demanda real em 218,43 unidades [^6].

> üí° **Exemplo Num√©rico:** Vamos considerar um cen√°rio com 5 per√≠odos de demanda real e suas respectivas previs√µes.
>
> | Per√≠odo | Demanda Real | Previs√£o | Erro | |Erro Absoluto|
> |---------|-------------|----------|------|-------------|
> | 1       | 1000        | 900      | 100  | 100         |
> | 2       | 1200        | 1150     | 50   | 50          |
> | 3       | 1300        | 1350     | -50  | 50          |
> | 4       | 1100        | 1200     | -100 | 100         |
> | 5       | 1250        | 1180     | 70   | 70          |
>
> Calculando o MAD:
>
> $\text{MAD} = \frac{|100| + |50| + |-50| + |-100| + |70|}{5} = \frac{100+50+50+100+70}{5} = \frac{370}{5} = 74$
>
> Este MAD de 74 significa que, em m√©dia, as previs√µes se desviam da demanda real em 74 unidades.

2. **Erro Quadr√°tico M√©dio (MSE)**: O MSE calcula a m√©dia dos quadrados dos erros de previs√£o [^6]. Esta m√©trica √© dada pela f√≥rmula:
$$
MSE = \frac{\sum{(\text{Demanda Real} - \text{Previs√£o})^2}}{n}
$$
O MSE penaliza erros maiores de forma mais acentuada do que o MAD [^6]. Isso √© √∫til em situa√ß√µes onde grandes erros de previs√£o podem ter consequ√™ncias graves, como em ambientes de sa√∫de, onde a falta de recursos pode ter um impacto significativo.
> üí° **Exemplo Num√©rico:** Usando os mesmos dados do exemplo anterior, calculamos o MSE:
>
> | Per√≠odo | Demanda Real | Previs√£o | Erro | Erro¬≤|
> |---------|-------------|----------|------|------|
> | 1       | 1000        | 900      | 100  | 10000|
> | 2       | 1200        | 1150     | 50   | 2500 |
> | 3       | 1300        | 1350     | -50  | 2500 |
> | 4       | 1100        | 1200     | -100 | 10000|
> | 5       | 1250        | 1180     | 70   | 4900 |
>
> Calculando o MSE:
>
> $\text{MSE} = \frac{100^2 + 50^2 + (-50)^2 + (-100)^2 + 70^2}{5} = \frac{10000 + 2500 + 2500 + 10000 + 4900}{5} = \frac{29900}{5} = 5980$
>
> O MSE de 5980 indica a m√©dia do quadrado dos erros. Observe que, devido √† eleva√ß√£o ao quadrado, os erros maiores t√™m um impacto muito maior no MSE do que no MAD.

3. **Erro Percentual Absoluto M√©dio (MAPE)**: O MAPE expressa o erro de previs√£o como uma porcentagem da demanda real [^6]. Esta m√©trica √© calculada pela f√≥rmula:

$$
MAPE = \frac{\sum{\frac{\mid \text{Demanda Real} - \text{Previs√£o} \mid}{\text{Demanda Real}}} \times 100}{n}
$$
O MAPE √© √∫til quando a demanda varia amplamente, pois fornece uma medida relativa do erro de previs√£o. Por exemplo, um MAPE de 13,19% indica que, em m√©dia, as previs√µes est√£o 13,19% "desligadas" da demanda real [^6].
> üí° **Exemplo Num√©rico:** Utilizando os mesmos dados, calculamos o MAPE:
>
> | Per√≠odo | Demanda Real | Previs√£o | Erro | |Erro Absoluto| |Erro Percentual Absoluto|
> |---------|-------------|----------|------|-------------|------------------------|
> | 1       | 1000        | 900      | 100  | 100         | 100/1000 * 100 = 10%      |
> | 2       | 1200        | 1150     | 50   | 50          | 50/1200 * 100 = 4.17%     |
> | 3       | 1300        | 1350     | -50  | 50          | 50/1300 * 100 = 3.85%    |
> | 4       | 1100        | 1200     | -100 | 100         | 100/1100 * 100 = 9.09%   |
> | 5       | 1250        | 1180     | 70   | 70          | 70/1250 * 100 = 5.6%    |
>
> Calculando o MAPE:
>
> $\text{MAPE} = \frac{10 + 4.17 + 3.85 + 9.09 + 5.6}{5} = \frac{32.71}{5} = 6.54\%$
>
> O MAPE de 6.54% significa que, em m√©dia, as previs√µes est√£o 6.54% distantes da demanda real.

**Lema 1:** O MAPE pode ser indefinido ou extremamente grande se a demanda real for zero ou pr√≥xima de zero em alguns per√≠odos.

*Prova:*
I. A f√≥rmula para o MAPE √© dada por:
$$
MAPE = \frac{\sum{\frac{\mid \text{Demanda Real} - \text{Previs√£o} \mid}{\text{Demanda Real}}} \times 100}{n}
$$
II. No c√°lculo do MAPE, √© necess√°rio dividir o erro absoluto ($\mid \text{Demanda Real} - \text{Previs√£o} \mid$) pela demanda real.
III. Se a demanda real for igual a zero em algum per√≠odo, a divis√£o por zero resultar√° em uma indetermina√ß√£o na express√£o $\frac{\mid \text{Demanda Real} - \text{Previs√£o} \mid}{\text{Demanda Real}}$.
IV. Se a demanda real for muito pr√≥xima de zero (um valor pequeno), o quociente $\frac{\mid \text{Demanda Real} - \text{Previs√£o} \mid}{\text{Demanda Real}}$ resultar√° em um valor muito grande.
V. Consequentemente, a soma e a m√©dia desses valores podem se tornar extremamente grandes, o que torna o MAPE n√£o confi√°vel nesses casos.

Portanto, o MAPE pode se tornar indefinido ou extremamente grande quando a demanda real √© zero ou pr√≥xima de zero. ‚ñ†

**Teorema 1:** Dada a natureza de cada m√©trica, o MAD e o MSE s√£o mais adequados para comparar modelos de previs√£o quando os valores da demanda t√™m uma escala razoavelmente constante, enquanto o MAPE pode ser mais apropriado quando existem grandes varia√ß√µes na escala da demanda, desde que a demanda real n√£o seja zero. No entanto, o uso exclusivo do MAPE deve ser evitado em situa√ß√µes onde a demanda pode ser nula ou muito pr√≥xima de zero, devido √† sua instabilidade nesses casos.

*Prova:*
I. O Erro M√©dio Absoluto (MAD) e o Erro Quadr√°tico M√©dio (MSE) s√£o m√©tricas que medem o erro em unidades absolutas.
II. O MAD calcula a m√©dia da magnitude dos erros de previs√£o, enquanto o MSE calcula a m√©dia do quadrado dos erros de previs√£o.
III. Se a escala da demanda for relativamente constante, os erros absolutos, medidos por MAD e MSE, refletir√£o com precis√£o o desempenho da previs√£o.
IV. O Erro Percentual Absoluto M√©dio (MAPE) calcula o erro de previs√£o como uma percentagem da demanda real, normalizando os erros pela escala da demanda.
V. Quando a escala da demanda varia muito, erros de mesma magnitude absoluta podem ter implica√ß√µes diferentes. O MAPE pode ajudar a comparar modelos quando h√° grandes varia√ß√µes na escala da demanda.
VI. Pelo Lema 1, o MAPE se torna inst√°vel quando a demanda real √© nula ou pr√≥xima de zero, o que compromete a sua confiabilidade nesses casos.
VII. Portanto, o MAD e o MSE s√£o mais adequados quando a escala da demanda √© relativamente constante, enquanto o MAPE pode ser mais adequado para grandes varia√ß√µes de escala, desde que a demanda n√£o seja pr√≥xima de zero. A aplica√ß√£o isolada do MAPE deve ser evitada em contextos em que a demanda pode ser nula ou pr√≥xima de zero devido √† sua instabilidade. ‚ñ†

#### An√°lise Comparativa das M√©tricas
As tabelas 3.5 [^6], 3.6 [^6] e 3.7 [^6] fornecem exemplos pr√°ticos de como MAD, MSE e MAPE podem ser calculados para diferentes modelos de previs√£o (SMA, WMA e suaviza√ß√£o exponencial), permitindo a compara√ß√£o direta das m√©tricas e da performance de cada modelo. A an√°lise das m√©tricas de erro revela que modelos com pesos mais recentes (WMA com pesos 0,7 e 0,3 e suaviza√ß√£o exponencial com $ \alpha = 0,8$) tendem a produzir previs√µes mais precisas em cen√°rios com mudan√ßas nos padr√µes de demanda [^6].

√â importante destacar que a escolha da m√©trica adequada depende do contexto espec√≠fico [^6]. Enquanto o MAD oferece uma vis√£o geral dos erros de previs√£o, o MSE penaliza mais os erros maiores, sendo √∫til em contextos onde grandes erros s√£o mais custosos. J√° o MAPE fornece uma vis√£o percentual do erro, √∫til quando h√° grande variabilidade nos valores da demanda.
> üí° **Exemplo Comparativo:** Suponha que temos dois modelos de previs√£o, A e B, com os seguintes resultados em 5 per√≠odos:
>
> | Per√≠odo | Demanda Real | Previs√£o A | Previs√£o B |
> |---------|-------------|------------|------------|
> | 1       | 100         | 90         | 80         |
> | 2       | 120         | 115        | 130        |
> | 3       | 130         | 135        | 125        |
> | 4       | 110         | 120        | 105        |
> | 5       | 125         | 118        | 135        |
>
> Calculando as m√©tricas:
>
> | M√©trica | Modelo A | Modelo B |
> |---------|----------|----------|
> | MAD     | 8.4      | 8.0      |
> | MSE     | 90.4     | 70.0     |
> | MAPE    | 6.81%    | 6.65%    |
>
> Neste exemplo, o Modelo B apresenta um MAD e MAPE ligeiramente menores que o Modelo A, mas o MSE √© significativamente menor. Dependendo da sua aplica√ß√£o, se erros maiores s√£o mais penalizados, o modelo B seria prefer√≠vel.

**Corol√°rio 1.1:** Em contextos onde os erros de previs√£o, tanto positivos quanto negativos, s√£o igualmente indesej√°veis e n√£o h√° penalidades diferenciais para erros maiores, o MAD pode ser a m√©trica mais apropriada para comparar o desempenho dos modelos.

*Prova:*
I. O MAD calcula a m√©dia dos erros absolutos de previs√£o, independentemente do sinal dos erros.
II. Em cen√°rios onde n√£o h√° penalidades diferentes para erros maiores, apenas a magnitude do erro √© importante.
III. Como o MAD considera apenas a magnitude m√©dia dos erros, ele oferece uma medida do desempenho geral sem atribuir import√¢ncia adicional a erros grandes, tornando-o adequado para tais cen√°rios. ‚ñ†

**Corol√°rio 1.2:** Em situa√ß√µes em que grandes erros de previs√£o levam a perdas significativamente maiores do que pequenos erros, o MSE, devido √† sua penaliza√ß√£o maior para erros maiores, pode ser a m√©trica preferencial para a escolha do melhor modelo.

*Prova:*
I. O MSE calcula a m√©dia dos quadrados dos erros de previs√£o.
II. Ao elevar os erros ao quadrado, o MSE penaliza erros grandes mais significativamente do que erros pequenos.
III. Em situa√ß√µes em que grandes erros levam a perdas desproporcionalmente maiores, o MSE alinha a avalia√ß√£o do modelo com essa realidade, ao atribuir um peso maior a erros maiores.
IV. Portanto, o MSE √© a m√©trica preferencial para tais contextos. ‚ñ†

### Conclus√£o
A acur√°cia da previs√£o √© um componente fundamental da gest√£o de opera√ß√µes, permitindo que as organiza√ß√µes planejem com efici√™ncia seus recursos e respondam de forma eficaz √†s mudan√ßas na demanda [^6]. O uso de m√©tricas como MAD, MSE e MAPE permite uma an√°lise quantitativa da precis√£o das previs√µes, facilitando a escolha do modelo mais apropriado para cada situa√ß√£o espec√≠fica. Compreender o impacto de cada m√©trica ajuda a tomar decis√µes mais informadas e a melhorar a qualidade das previs√µes de demanda.

### Refer√™ncias
[^1]: Cap√≠tulo 3, Introdu√ß√£o e Objetivos de Aprendizagem.
[^6]: Cap√≠tulo 3, Se√ß√£o sobre Acur√°cia da Previs√£o.
[^3.4]: Cap√≠tulo 3, Formula para erro de previs√£o.
<!-- END -->
