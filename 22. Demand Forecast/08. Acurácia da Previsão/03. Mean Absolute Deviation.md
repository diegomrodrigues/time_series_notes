## Desvio MÃ©dio Absoluto (MAD) na AnÃ¡lise de PrevisÃ£o

### IntroduÃ§Ã£o
Como discutido nos capÃ­tulos anteriores [^1], a previsÃ£o de demanda Ã© um pilar fundamental para a gestÃ£o eficiente de qualquer organizaÃ§Ã£o. Avaliar a acurÃ¡cia das previsÃµes Ã©, portanto, uma etapa crucial. O desvio mÃ©dio absoluto (MAD) Ã© uma dessas mÃ©tricas, fornecendo uma medida intuitiva e amplamente utilizada da precisÃ£o da previsÃ£o [^6]. Este capÃ­tulo tem como objetivo explorar o MAD em profundidade, detalhando sua definiÃ§Ã£o, cÃ¡lculo, propriedades e aplicaÃ§Ãµes, especialmente no contexto de modelos de previsÃ£o de sÃ©ries temporais. TambÃ©m abordaremos como o MAD se relaciona com outras mÃ©tricas de avaliaÃ§Ã£o, como o erro quadrÃ¡tico mÃ©dio (MSE) e o erro percentual absoluto mÃ©dio (MAPE).

### Conceitos Fundamentais
O desvio mÃ©dio absoluto (MAD) Ã© uma mÃ©trica que quantifica a magnitude mÃ©dia dos erros de previsÃ£o, sem considerar a direÃ§Ã£o (positivo ou negativo) desses erros [^6]. Matematicamente, o MAD Ã© definido como a mÃ©dia das diferenÃ§as absolutas entre a demanda real e a previsÃ£o, conforme a fÃ³rmula jÃ¡ apresentada:
$$
MAD = \frac{\sum{\mid \text{Demanda Real} - \text{PrevisÃ£o} \mid}}{n}
$$
Onde:
*   $\mid \text{Demanda Real} - \text{PrevisÃ£o} \mid$ representa o valor absoluto do erro de previsÃ£o em cada perÃ­odo.
*   $n$ Ã© o nÃºmero total de perÃ­odos considerados no cÃ¡lculo.

**ObservaÃ§Ã£o 7:** O MAD Ã© uma mÃ©trica de fÃ¡cil interpretaÃ§Ã£o, expressa nas mesmas unidades da demanda. Por exemplo, se a demanda for medida em unidades de produto, o MAD serÃ¡ expresso em unidades de produto por perÃ­odo.

#### RelaÃ§Ã£o do MAD com a Norma-1
Matematicamente, o MAD pode ser visto como uma manifestaÃ§Ã£o da **norma-1** (ou norma de Manhattan) do vetor de erros de previsÃ£o. A norma-1 de um vetor **x** Ã© definida como:
$$ ||\mathbf{x}||_1 = \sum_{i=1}^{n} |x_i| $$
No contexto do MAD, o vetor **x** representa o vetor de erros de previsÃ£o, onde cada elemento $x_i$ Ã© a diferenÃ§a entre a demanda real e a previsÃ£o para o perÃ­odo *i*. Portanto, a soma dos erros absolutos no MAD Ã© equivalente Ã  norma-1 do vetor de erros. Dividindo pela quantidade de perÃ­odos, obtÃ©m-se a mÃ©dia dos erros absolutos, como definido na fÃ³rmula do MAD.

**Teorema 3:** O MAD Ã© uma medida da dispersÃ£o mÃ©dia dos erros de previsÃ£o e pode ser interpretada como a norma-1 do vetor de erros de previsÃ£o dividida pelo nÃºmero de perÃ­odos.
*Prova:*
I. A norma-1 de um vetor Ã© a soma dos valores absolutos dos seus elementos, como jÃ¡ definido.
II. No contexto da previsÃ£o, os elementos do vetor sÃ£o os erros de previsÃ£o $ e_i = \mid \text{Demanda Real}_i - \text{PrevisÃ£o}_i \mid $.
III. Portanto, a norma-1 do vetor de erros de previsÃ£o Ã©:
$$ ||\mathbf{e}||_1 = \sum_{i=1}^{n} |e_i| = \sum_{i=1}^{n} |\text{Demanda Real}_i - \text{PrevisÃ£o}_i| $$
IV. O MAD Ã© dado por:
$$
MAD = \frac{\sum_{i=1}^{n} |\text{Demanda Real}_i - \text{PrevisÃ£o}_i|}{n} = \frac{||\mathbf{e}||_1}{n}
$$
V. Logo, o MAD Ã© a norma-1 dos erros de previsÃ£o dividida pelo nÃºmero de perÃ­odos. â– 

**ProposiÃ§Ã£o 1:** A norma-1 possui uma propriedade de convexidade que pode ser explorada em modelos de otimizaÃ§Ã£o. Especificamente, para quaisquer vetores **x** e **y**, e qualquer escalar $\lambda$ entre 0 e 1, temos:
$$ ||\lambda\mathbf{x} + (1-\lambda)\mathbf{y}||_1 \leq \lambda||\mathbf{x}||_1 + (1-\lambda)||\mathbf{y}||_1 $$

*Prova:*
I. Pela definiÃ§Ã£o da norma-1, temos $||\lambda\mathbf{x} + (1-\lambda)\mathbf{y}||_1 = \sum_{i=1}^{n} |\lambda x_i + (1-\lambda)y_i|$.
II. Usando a desigualdade triangular, sabemos que $|\lambda x_i + (1-\lambda)y_i| \leq |\lambda x_i| + |(1-\lambda)y_i| = \lambda|x_i| + (1-\lambda)|y_i|$, jÃ¡ que $\lambda$ e $1-\lambda$ sÃ£o nÃ£o-negativos.
III. Somando sobre todos os *i*, temos: $\sum_{i=1}^{n} |\lambda x_i + (1-\lambda)y_i| \leq \sum_{i=1}^{n} (\lambda|x_i| + (1-\lambda)|y_i|)$.
IV. Aplicando a propriedade de linearidade da soma, obtemos $\sum_{i=1}^{n} (\lambda|x_i| + (1-\lambda)|y_i|) = \lambda\sum_{i=1}^{n}|x_i| + (1-\lambda)\sum_{i=1}^{n}|y_i| = \lambda||\mathbf{x}||_1 + (1-\lambda)||\mathbf{y}||_1$.
V. Portanto, $ ||\lambda\mathbf{x} + (1-\lambda)\mathbf{y}||_1 \leq \lambda||\mathbf{x}||_1 + (1-\lambda)||\mathbf{y}||_1 $. â– 

Essa propriedade da norma-1, e consequentemente do MAD, sugere que combinaÃ§Ãµes lineares de modelos de previsÃ£o podem ter erros mÃ©dios absolutos que nÃ£o sÃ£o piores do que a mÃ©dia ponderada dos erros absolutos dos modelos individuais, o que Ã© relevante em mÃ©todos de ensemble.

#### Propriedades do MAD
*   **Simplicidade e Intuitividade:** O MAD Ã© fÃ¡cil de calcular e de interpretar, o que o torna popular em diversas Ã¡reas. Ele oferece uma medida clara da magnitude mÃ©dia dos erros de previsÃ£o.
*   **Robustez a Outliers:** O MAD Ã© menos sensÃ­vel a outliers do que o MSE, jÃ¡ que ele utiliza valores absolutos em vez de valores quadrados. Isso significa que erros de previsÃ£o muito grandes nÃ£o terÃ£o um impacto tÃ£o grande no MAD quanto teriam no MSE.
*   **Unidades:** O MAD Ã© expresso nas mesmas unidades da variÃ¡vel de demanda, o que facilita sua interpretaÃ§Ã£o no contexto prÃ¡tico.

#### MAD vs. MSE vs. MAPE
Como jÃ¡ introduzido [^6], o MAD, MSE e MAPE sÃ£o mÃ©tricas de avaliaÃ§Ã£o de precisÃ£o de previsÃ£o, cada uma com suas caracterÃ­sticas particulares:
*   **MAD:** Mede a magnitude mÃ©dia dos erros de previsÃ£o em unidades absolutas. Ã‰ menos sensÃ­vel a outliers e fornece uma visÃ£o clara da escala mÃ©dia dos erros.
*   **MSE:** Mede a mÃ©dia dos quadrados dos erros de previsÃ£o. Penaliza erros maiores mais severamente, sendo mais adequado quando grandes erros sÃ£o mais crÃ­ticos.
*   **MAPE:** Mede a magnitude mÃ©dia dos erros de previsÃ£o como uma porcentagem da demanda real. Ã‰ Ãºtil para comparar modelos em diferentes escalas e contextos, mas pode ser instÃ¡vel quando a demanda real Ã© prÃ³xima de zero.

A tabela abaixo resume as principais diferenÃ§as entre MAD, MSE e MAPE:

| CaracterÃ­stica | MAD | MSE | MAPE |
|----------------|------|-----|------|
| CÃ¡lculo | MÃ©dia dos valores absolutos dos erros | MÃ©dia dos quadrados dos erros | MÃ©dia dos erros percentuais absolutos |
| Unidades | Unidades da demanda | Unidades da demandaÂ² | Percentual |
| Sensibilidade a Outliers | Baixa | Alta | Moderada (instÃ¡vel se demanda real â‰ˆ 0) |
| InterpretaÃ§Ã£o | Magnitude mÃ©dia dos erros | Magnitude mÃ©dia dos erros (com penalizaÃ§Ã£o para erros maiores) | Magnitude mÃ©dia dos erros como percentual da demanda real |
| AplicaÃ§Ã£o | VisÃ£o geral da escala dos erros | Penalizar grandes erros | Comparar modelos em diferentes escalas e contextos |

**Lema 2:** A escolha entre MAD, MSE ou MAPE depende das prioridades e do contexto da aplicaÃ§Ã£o.
*Prova:*
I.   Cada mÃ©trica pondera o erro de previsÃ£o de maneira diferente e, portanto, resulta em insights diferentes.
II.  O MAD Ã© uma mÃ©trica simples e intuitiva para avaliar a magnitude geral dos erros de previsÃ£o. Se a penalizaÃ§Ã£o por erros maiores nÃ£o for importante, o MAD fornece uma medida adequada do desempenho do modelo.
III. O MSE penaliza erros maiores, tornando-o apropriado para situaÃ§Ãµes onde a consequÃªncia de grandes erros Ã© muito pior do que pequenos erros.
IV. O MAPE mede o erro em termos percentuais, o que o torna Ãºtil para comparar modelos de previsÃ£o quando os valores da demanda tÃªm diferentes magnitudes. No entanto, o MAPE pode produzir resultados enganosos se a demanda real for zero ou muito pequena, conforme jÃ¡ demonstrado (Lema 1 no capÃ­tulo anterior).
V.  Portanto, a escolha depende das necessidades e prioridades especÃ­ficas da aplicaÃ§Ã£o, sendo importante analisar o contexto antes de selecionar a mÃ©trica de avaliaÃ§Ã£o. â– 

**Teorema 3.1:** Existe uma relaÃ§Ã£o entre o MAD e o desvio padrÃ£o (DP) dos erros, embora eles meÃ§am diferentes aspectos da dispersÃ£o. Em geral, o MAD Ã© menor ou igual ao desvio padrÃ£o dos erros, com igualdade ocorrendo sob condiÃ§Ãµes especÃ­ficas.

*Prova:*
I. O desvio padrÃ£o (DP) dos erros Ã© definido como a raiz quadrada da mÃ©dia dos quadrados dos erros, ou seja, $DP = \sqrt{\frac{\sum_{i=1}^n (e_i - \bar{e})^2}{n}}$, onde $e_i$ Ã© o erro no perÃ­odo *i*, e $\bar{e}$ Ã© a mÃ©dia dos erros.
II. Sabemos que o MAD Ã© dado por $MAD = \frac{\sum_{i=1}^n |e_i|}{n}$.
III. Pela desigualdade de Cauchy-Schwarz, temos que: $\left(\sum_{i=1}^n |e_i| \cdot 1 \right)^2 \leq \left(\sum_{i=1}^n |e_i|^2 \right) \left(\sum_{i=1}^n 1^2\right) = n \sum_{i=1}^n e_i^2$.
IV.  Dividindo por $n^2$, temos $\left(\frac{\sum_{i=1}^n |e_i|}{n}\right)^2 \leq \frac{\sum_{i=1}^n e_i^2}{n}$.
V.  O MAD, por definiÃ§Ã£o, Ã© $\frac{\sum_{i=1}^n |e_i|}{n}$, entÃ£o $MAD^2 \leq \frac{\sum_{i=1}^n e_i^2}{n}$.
VI.  Se a mÃ©dia dos erros ($\bar{e}$) for zero (o que geralmente acontece em avaliaÃ§Ãµes de modelos nÃ£o viesados, mas nÃ£o sempre), entÃ£o a expressÃ£o do DP simplifica para $DP = \sqrt{\frac{\sum_{i=1}^n e_i^2}{n}}$, e $DP^2 = \frac{\sum_{i=1}^n e_i^2}{n}$.
VII.  Logo, $MAD^2 \leq DP^2$, e tomando a raiz quadrada de ambos os lados (e usando o fato de que MAD e DP sÃ£o sempre nÃ£o-negativos), obtemos $MAD \leq DP$.
VIII. Essa desigualdade Ã© estrita a menos que todos os $|e_i|$ sejam iguais, e $\bar{e}=0$.  A desigualdade $MAD \leq DP$ mostra que o MAD Ã© uma medida de dispersÃ£o menos sensÃ­vel a valores extremos do que o DP. â– 

### CÃ¡lculo do MAD em Modelos de PrevisÃ£o
O cÃ¡lculo do MAD Ã© um processo direto:
1.  **Calcular os erros de previsÃ£o** para cada perÃ­odo subtraindo a previsÃ£o da demanda real correspondente.
2.  **Calcular o valor absoluto** de cada erro de previsÃ£o.
3.  **Somar** todos os valores absolutos dos erros.
4.  **Dividir** a soma pelo nÃºmero total de perÃ­odos.

> ðŸ’¡ **Exemplo NumÃ©rico:** Usando os dados de um exemplo anterior no capÃ­tulo de acurÃ¡cia [^1]:
>
> | PerÃ­odo | Demanda Real | PrevisÃ£o | Erro | |Erro Absoluto|
> |---------|-------------|----------|------|-------------|
> | 1       | 1000        | 900      | 100  | 100         |
> | 2       | 1200        | 1150     | 50   | 50          |
> | 3       | 1300        | 1350     | -50  | 50          |
> | 4       | 1100        | 1200     | -100 | 100         |
> | 5       | 1250        | 1180     | 70   | 70          |
>
> O MAD Ã©:
>
> $\text{MAD} = \frac{100 + 50 + 50 + 100 + 70}{5} = \frac{370}{5} = 74$

> ðŸ’¡ **Exemplo NumÃ©rico:** Vamos considerar um cenÃ¡rio de previsÃ£o de vendas de um produto. Temos os seguintes dados de demanda real e previsÃ£o para 7 perÃ­odos:
>
> | PerÃ­odo | Demanda Real | PrevisÃ£o | Erro | |Erro Absoluto|
> |---------|-------------|----------|------|-------------|
> | 1       | 250         | 230      | 20   | 20          |
> | 2       | 280         | 270      | 10   | 10          |
> | 3       | 310         | 320      | -10  | 10          |
> | 4       | 290         | 285      | 5    | 5           |
> | 5       | 300         | 315      | -15  | 15          |
> | 6       | 320         | 310      | 10   | 10          |
> | 7       | 330         | 340      | -10  | 10          |
>
> Para calcular o MAD:
>
> 1. **Erros:** JÃ¡ calculados na tabela (Demanda Real - PrevisÃ£o).
> 2. **Erros Absolutos:** TambÃ©m calculados na tabela (valores absolutos dos erros).
> 3. **Soma dos Erros Absolutos:**  20 + 10 + 10 + 5 + 15 + 10 + 10 = 80
> 4. **MAD:**  80 / 7 = 11.43
>
>  O MAD para este conjunto de dados Ã© de aproximadamente 11.43 unidades. Isso significa que, em mÃ©dia, as previsÃµes se desviam da demanda real em cerca de 11.43 unidades por perÃ­odo.

#### MAD em Modelos de SÃ©ries Temporais
Em modelos de sÃ©ries temporais, o cÃ¡lculo do MAD Ã© geralmente realizado sobre um conjunto de dados de teste ou validaÃ§Ã£o, onde a previsÃ£o Ã© calculada usando os dados histÃ³ricos e comparada com a demanda real observada. Em casos como o SMA e WMA, o MAD pode ser utilizado para ajustar o perÃ­odo de mÃ©dia e os pesos, respectivamente, para um melhor ajuste ao histÃ³rico e melhor previsÃ£o.

**CorolÃ¡rio 3.1:** O MAD Ã© uma mÃ©trica de avaliaÃ§Ã£o de modelos de previsÃ£o que fornece uma medida intuitiva e facilmente interpretÃ¡vel da magnitude geral dos erros de previsÃ£o, mas nÃ£o Ã© aconselhÃ¡vel usÃ¡-lo isoladamente, jÃ¡ que ele nÃ£o pondera erros maiores de forma diferenciada, e deve ser utilizado com outras mÃ©tricas para uma avaliaÃ§Ã£o mais abrangente.

*Prova:*
I. O MAD fornece a mÃ©dia dos erros absolutos, dando uma ideia geral da magnitude dos erros.
II. O MAD nÃ£o distingue erros maiores de menores, tratando todos da mesma forma.
III. Uma avaliaÃ§Ã£o mais abrangente deve considerar outras mÃ©tricas como MSE e MAPE para avaliar a performance dos modelos sob outras perspectivas, e entender o impacto de diferentes abordagens no resultado final. â– 

### AplicaÃ§Ãµes do MAD
O MAD Ã© uma ferramenta versÃ¡til, usada em diversas aplicaÃ§Ãµes, incluindo:
*   **ComparaÃ§Ã£o de Modelos de PrevisÃ£o:** O MAD permite comparar a precisÃ£o de diferentes modelos de previsÃ£o, auxiliando na seleÃ§Ã£o do modelo mais adequado para um determinado problema.
*   **Ajuste de ParÃ¢metros:** O MAD pode ser usado para ajustar parÃ¢metros de modelos de previsÃ£o, como o nÃºmero de perÃ­odos em mÃ©dias mÃ³veis (SMA) ou os pesos em mÃ©dias mÃ³veis ponderadas (WMA), buscando minimizar o erro mÃ©dio.
*   **Monitoramento da PrecisÃ£o:** O MAD pode ser usado para monitorar a precisÃ£o de previsÃµes ao longo do tempo, identificando possÃ­veis desvios que podem indicar a necessidade de revisar o modelo de previsÃ£o.
*   **Tomada de DecisÃ£o:** Um valor de MAD menor geralmente indica um modelo de previsÃ£o mais preciso, fornecendo maior confianÃ§a para decisÃµes sobre planejamento de produÃ§Ã£o, gestÃ£o de estoque e alocaÃ§Ã£o de recursos.

> ðŸ’¡ **Exemplo NumÃ©rico:**  Comparando dois modelos de previsÃ£o. Suponha que temos dois modelos de previsÃ£o (Modelo A e Modelo B) e queremos comparÃ¡-los usando o MAD. Usando os mesmos dados de demanda real do exemplo anterior, temos as seguintes previsÃµes para cada modelo:
>
> | PerÃ­odo | Demanda Real | PrevisÃ£o (Modelo A) | Erro (A) | |Erro Absoluto (A)| PrevisÃ£o (Modelo B) | Erro (B) | |Erro Absoluto (B)|
> |---------|-------------|-------------------|----------|-------------------|-------------------|----------|-------------------|
> | 1       | 250         | 240               | 10       | 10                | 220               | 30       | 30                |
> | 2       | 280         | 275               | 5        | 5                 | 260               | 20       | 20                |
> | 3       | 310         | 315               | -5       | 5                 | 300               | 10       | 10                |
> | 4       | 290         | 295               | -5       | 5                 | 270               | 20       | 20                |
> | 5       | 300         | 305               | -5       | 5                 | 320               | -20      | 20                |
> | 6       | 320         | 310               | 10       | 10                | 300               | 20       | 20                |
> | 7       | 330         | 325               | 5        | 5                 | 330               | 0        | 0                 |
>
> **CÃ¡lculo do MAD para o Modelo A:**
>
> 1.  Soma dos Erros Absolutos: 10 + 5 + 5 + 5 + 5 + 10 + 5 = 45
> 2.  MAD (Modelo A): 45 / 7 = 6.43
>
> **CÃ¡lculo do MAD para o Modelo B:**
>
> 1.  Soma dos Erros Absolutos: 30 + 20 + 10 + 20 + 20 + 20 + 0 = 120
> 2.  MAD (Modelo B): 120 / 7 = 17.14
>
> Neste exemplo, o Modelo A tem um MAD de aproximadamente 6.43, enquanto o Modelo B tem um MAD de aproximadamente 17.14. Isso indica que, em mÃ©dia, o Modelo A tem previsÃµes mais precisas do que o Modelo B, pois seus erros de previsÃ£o sÃ£o menores em magnitude.

### ConclusÃ£o
O desvio mÃ©dio absoluto (MAD) Ã© uma mÃ©trica essencial para avaliar a acurÃ¡cia de modelos de previsÃ£o. Sua simplicidade, interpretabilidade e robustez a outliers o tornam uma ferramenta valiosa para tomadores de decisÃ£o em diversos contextos. Embora o MAD ofereÃ§a uma visÃ£o clara da magnitude mÃ©dia dos erros, Ã© fundamental utilizar o MAD juntamente com outras mÃ©tricas como o MSE e o MAPE para uma avaliaÃ§Ã£o abrangente da precisÃ£o da previsÃ£o, garantindo a seleÃ§Ã£o do modelo mais adequado para cada situaÃ§Ã£o. A compreensÃ£o e aplicaÃ§Ã£o correta do MAD, junto com outras mÃ©tricas, Ã© um passo importante para garantir que as decisÃµes baseadas em previsÃ£o sejam tÃ£o informadas quanto possÃ­vel.

### ReferÃªncias
[^1]: CapÃ­tulo anterior sobre acurÃ¡cia de previsÃ£o e mÃ©tricas de avaliaÃ§Ã£o.
[^6]: CapÃ­tulo 3, SeÃ§Ã£o sobre AcurÃ¡cia da PrevisÃ£o.
<!-- END -->
