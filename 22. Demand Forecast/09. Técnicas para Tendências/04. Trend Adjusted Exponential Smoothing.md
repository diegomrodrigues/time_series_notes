## SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia (TAES)

### IntroduÃ§Ã£o
Em continuidade ao nosso estudo sobre tÃ©cnicas de previsÃ£o de demanda e, especificamente, ao tema de *modelagem de tendÃªncias*, abordamos agora a **SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia (TAES)**, uma extensÃ£o da suavizaÃ§Ã£o exponencial que busca lidar com dados que apresentam uma tendÃªncia (crescente ou decrescente) ao longo do tempo [^1]. Como vimos anteriormente, o modelo de suavizaÃ§Ã£o exponencial padrÃ£o [^2] pode nÃ£o ser suficiente para modelar demandas que apresentam uma tendÃªncia clara, pois ele tende a "lag" ou atrasar em relaÃ§Ã£o aos dados reais, ou seja, nÃ£o reage suficientemente rÃ¡pido Ã s mudanÃ§as na direÃ§Ã£o da tendÃªncia. A TAES corrige essa limitaÃ§Ã£o ao incorporar um segundo fator de suavizaÃ§Ã£o, $\beta$, que ajusta o modelo Ã  tendÃªncia subjacente dos dados, como referenciado [^3].

### Conceitos Fundamentais
A SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia (TAES) Ã© um mÃ©todo de previsÃ£o de sÃ©ries temporais que, como vimos em capÃ­tulos anteriores, busca suavizar os dados, ao mesmo tempo que considera a tendÃªncia da sÃ©rie. A principal diferenÃ§a em relaÃ§Ã£o Ã  suavizaÃ§Ã£o exponencial simples reside na incorporaÃ§Ã£o de um componente adicional para a tendÃªncia [^2]. A TAES utiliza uma mÃ©dia ponderada dos valores passados para fazer previsÃµes, mas tambÃ©m leva em consideraÃ§Ã£o uma tendÃªncia nos dados que estÃ¡ mudando.

A fÃ³rmula da TAES Ã© dada por:

$$ TAES_t = F_t + T_t $$

onde:
*   $TAES_t$ Ã© a previsÃ£o da suavizaÃ§Ã£o exponencial ajustada para tendÃªncia no perÃ­odo $t$.
*   $F_t$ Ã© a previsÃ£o exponencialmente suavizada para o perÃ­odo $t$.
*   $T_t$ Ã© a estimativa da tendÃªncia exponencialmente suavizada para o perÃ­odo $t$.

As fÃ³rmulas para $F_t$ e $T_t$ sÃ£o dadas por:

$$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$

$$ T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1} $$

onde:
*  $A_{t-1}$ Ã© a demanda real no perÃ­odo anterior $(t-1)$.
*   $\alpha$ Ã© a constante de suavizaÃ§Ã£o para a mÃ©dia (0 â‰¤ $\alpha$ â‰¤ 1).
*   $\beta$ Ã© a constante de suavizaÃ§Ã£o para a tendÃªncia (0 â‰¤ $\beta$ â‰¤ 1).
*   $TAES_{t-1}$ Ã© a previsÃ£o de demanda ajustada para tendÃªncia do perÃ­odo anterior.
*   $F_{t-1}$ Ã© a previsÃ£o exponencialmente suavizada para o perÃ­odo anterior.
*   $T_{t-1}$ Ã© a estimativa da tendÃªncia exponencialmente suavizada para o perÃ­odo anterior.

A constante de suavizaÃ§Ã£o $\alpha$ Ã© utilizada para modular a resposta da mÃ©dia suavizada aos dados mais recentes. Um valor de $\alpha$ prÃ³ximo de 1 darÃ¡ mais peso aos dados mais recentes, resultando em um modelo mais responsivo, enquanto um valor prÃ³ximo de 0 darÃ¡ mais peso aos dados passados, resultando em um modelo mais estÃ¡vel. Similarmente, a constante de suavizaÃ§Ã£o $\beta$ modula a capacidade de resposta Ã  tendÃªncia. Um valor de $\beta$ prÃ³ximo de 1 indicarÃ¡ que o modelo Ã© mais responsivo a alteraÃ§Ãµes recentes na tendÃªncia, e valores prÃ³ximos de 0 indicarÃ£o um modelo menos responsivo a alteraÃ§Ãµes da tendÃªncia, com mais peso na tendÃªncia anterior [^3].

> ğŸ’¡ **Exemplo NumÃ©rico:** Suponha que tenhamos os seguintes dados de demanda ao longo do tempo, que apresentam uma tendÃªncia crescente:
>
> | PerÃ­odo (t) | Demanda (A) |
> | ----------- | ---------- |
> | 1           | 10         |
> | 2           | 12         |
> | 3           | 15         |
> | 4           | 19         |
> | 5           | 24         |
>
> Para aplicar o mÃ©todo TAES, precisamos de valores iniciais para a mÃ©dia e a tendÃªncia. Vamos assumir $TAES_1$ = 10 (a mesma da demanda inicial) e $T_1$ = 0. Vamos escolher $\alpha = 0.4$ e $\beta = 0.3$. Vamos calcular as previsÃµes para os perÃ­odos seguintes:
>
> **PerÃ­odo 2:**
>
> $F_2 = 0.4 * 10 + (1 - 0.4) * 10 = 10$
>
> $T_2 = 0.3 * (10 - 10) + (1-0.3) * 0 = 0$
>
> $TAES_2 = 10 + 0 = 10$
>
> **PerÃ­odo 3:**
>
> $F_3 = 0.4 * 12 + (1-0.4) * 10 = 10.8$
>
> $T_3 = 0.3 * (10.8 - 10) + (1 - 0.3) * 0 = 0.24$
>
> $TAES_3 = 10.8 + 0.24 = 11.04$
>
> **PerÃ­odo 4:**
>
> $F_4 = 0.4 * 15 + (1 - 0.4) * 11.04 = 12.62$
>
> $T_4 = 0.3 * (12.62 - 10.8) + (1 - 0.3) * 0.24 = 0.70$
>
> $TAES_4 = 12.62 + 0.70 = 13.32$
>
> **PerÃ­odo 5:**
>
> $F_5 = 0.4 * 19 + (1 - 0.4) * 13.32 = 15.59$
>
> $T_5 = 0.3 * (15.59 - 12.62) + (1 - 0.3) * 0.70 = 1.34$
>
> $TAES_5 = 15.59 + 1.34 = 16.93$
>
> **PerÃ­odo 6 (PrevisÃ£o):**
>
> $F_6 = 0.4 * 24 + (1 - 0.4) * 16.93 = 19.76$
>
> $T_6 = 0.3 * (19.76 - 15.59) + (1 - 0.3) * 1.34 = 2.26$
>
> $TAES_6 = 19.76 + 2.26 = 22.02$
>
> Como pode-se observar, as previsÃµes acompanham a tendÃªncia crescente dos dados. O modelo de SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia (TAES) incorpora informaÃ§Ãµes sobre a tendÃªncia e, portanto, gera resultados mais ajustados em relaÃ§Ã£o a outros mÃ©todos.

**Prova do Modelo de TAES:**

Para entender o modelo de TAES, vamos considerar as equaÃ§Ãµes recursivas do modelo:

$$TAES_t = F_t + T_t $$
$$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$
$$ T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1} $$

Onde $F_t$ Ã© a mÃ©dia suavizada exponencialmente, e $T_t$ Ã© a componente da tendÃªncia suavizada exponencialmente.

I.  A primeira equaÃ§Ã£o, $TAES_t = F_t + T_t$, mostra que a previsÃ£o no perÃ­odo $t$ Ã© a soma da mÃ©dia suavizada e a tendÃªncia suavizada no mesmo perÃ­odo.
II. A segunda equaÃ§Ã£o, $F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1}$, define que a mÃ©dia suavizada no perÃ­odo $t$ Ã© uma mÃ©dia ponderada da demanda real no perÃ­odo anterior ($A_{t-1}$) e a previsÃ£o total suavizada ($TAES_{t-1}$) do perÃ­odo anterior, usando um fator de suavizaÃ§Ã£o $\alpha$.
III. A terceira equaÃ§Ã£o, $T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1}$, mostra que a tendÃªncia suavizada no perÃ­odo $t$ Ã© uma mÃ©dia ponderada da mudanÃ§a na mÃ©dia suavizada no perÃ­odo anterior ($F_t - F_{t-1}$) e a tendÃªncia suavizada do perÃ­odo anterior ($T_{t-1}$), usando um fator de suavizaÃ§Ã£o $\beta$.
IV. Note que  $F_t$ incorpora o valor de $TAES_{t-1}$, que jÃ¡ contÃ©m informaÃ§Ãµes sobre as tendÃªncias passadas, e $T_t$ incorpora o valor de $T_{t-1}$, que tambÃ©m jÃ¡ considera as tendÃªncias. Portanto o valor atual $TAES_t$ contÃ©m todas as tendÃªncias passadas, com mais peso nas tendÃªncias recentes, graÃ§as ao uso de $\alpha$ e $\beta$. $\blacksquare$

**ProposiÃ§Ã£o 1:** *A fÃ³rmula de atualizaÃ§Ã£o da mÃ©dia suavizada $F_t$ pode ser reescrita em termos das demandas passadas,  mostrando explicitamente que o valor atual Ã© uma mÃ©dia ponderada exponencialmente das demandas passadas.*

**Prova:**
I.  ComeÃ§ando com a fÃ³rmula recursiva para $F_t$:
    $$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$
    E expandindo $TAES_{t-1}$:
    $$ F_t = \alpha A_{t-1} + (1 - \alpha) (F_{t-1} + T_{t-1}) $$

II. Substituindo recursivamente $F_{t-1}$ teremos:
   $$ F_t = \alpha A_{t-1} + (1-\alpha)\alpha A_{t-2} + (1-\alpha)^2 (F_{t-2} + T_{t-2}) $$
    E continuando a substituiÃ§Ã£o recursiva, chegaremos a:
$$ F_t = \alpha A_{t-1} + (1-\alpha)\alpha A_{t-2} + (1-\alpha)^2\alpha A_{t-3} + \ldots + (1-\alpha)^{t-2}\alpha A_1 + (1-\alpha)^{t-1} (F_1 + T_1) $$
    Onde $F_1$ e $T_1$ sÃ£o valores iniciais.

III.  Reescrevendo a expressÃ£o em termos de somatÃ³rio:
    $$ F_t = \sum_{k=1}^{t-1} \alpha (1-\alpha)^{t-1-k} A_k + (1-\alpha)^{t-1} (F_1 + T_1) $$
    Esta equaÃ§Ã£o mostra que $F_t$ Ã© uma mÃ©dia ponderada das demandas passadas $A_k$, onde o peso de cada demanda decresce exponencialmente Ã  medida que nos afastamos no tempo. O termo $(1-\alpha)^{t-1} (F_1 + T_1)$ Ã© o peso dado Ã  condiÃ§Ã£o inicial, que tambÃ©m decresce exponencialmente com o tempo.
$\blacksquare$

### Vantagens da TAES

-   **AdaptaÃ§Ã£o a TendÃªncias:** A principal vantagem da TAES Ã© sua capacidade de lidar com dados que apresentam uma tendÃªncia, seja ela crescente ou decrescente, mitigando o atraso da suavizaÃ§Ã£o exponencial simples [^3].
-   **SuavizaÃ§Ã£o de RuÃ­do:** A TAES suaviza os dados, reduzindo o impacto de flutuaÃ§Ãµes aleatÃ³rias e tornando as previsÃµes mais estÃ¡veis.
-   **Flexibilidade:** As constantes de suavizaÃ§Ã£o $\alpha$ e $\beta$ permitem ajustar a capacidade de resposta do modelo Ã  demanda e Ã  tendÃªncia.

### LimitaÃ§Ãµes da TAES

-   **Complexidade:** A TAES Ã© mais complexa que a suavizaÃ§Ã£o exponencial simples, o que pode dificultar sua implementaÃ§Ã£o e interpretaÃ§Ã£o.
-  **Escolha de $\alpha$ e $\beta$:** A escolha adequada dos parÃ¢metros de suavizaÃ§Ã£o, $\alpha$ e $\beta$ Ã© crucial para o desempenho do modelo. A escolha inadequada desses parÃ¢metros pode gerar resultados piores que os obtidos com outros modelos mais simples.
-   **Dados NÃ£o Lineares:** Assim como outros modelos de sÃ©ries temporais lineares, a TAES pode nÃ£o ser a melhor escolha para dados que apresentam padrÃµes nÃ£o lineares ou sazonalidade complexa. Para modelos nÃ£o lineares, como o modelo multiplicativo ou outros modelos como o Box-Jenkins, Ã© necessÃ¡rio verificar as pressuposiÃ§Ãµes e a adequaÃ§Ã£o dos modelos aos dados disponÃ­veis.

**Teorema 1** *A escolha apropriada dos parÃ¢metros $\alpha$ e $\beta$ na SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia Ã© crucial para a precisÃ£o das previsÃµes.*

**Prova:**
I. A constante $\alpha$ controla o peso dado aos dados mais recentes na mÃ©dia exponencialmente suavizada ($F_t$). Um $\alpha$ muito alto (prÃ³ximo de 1) farÃ¡ com que o modelo reaja rapidamente a variaÃ§Ãµes aleatÃ³rias, aumentando a instabilidade, enquanto um $\alpha$ muito baixo (prÃ³ximo de 0) farÃ¡ com que o modelo demore a se ajustar a mudanÃ§as na demanda.

II. Similarmente, a constante $\beta$ controla o peso dado Ã s mudanÃ§as na tendÃªncia na estimativa de tendÃªncia suavizada ($T_t$). Um $\beta$ muito alto (prÃ³ximo de 1) farÃ¡ com que o modelo se ajuste rapidamente a mudanÃ§as recentes na tendÃªncia, enquanto um $\beta$ muito baixo (prÃ³ximo de 0) farÃ¡ com que o modelo ignore as mudanÃ§as na tendÃªncia, resultando em previsÃµes que podem estar desfasadas.

III. Portanto, Ã© necessÃ¡rio escolher os parÃ¢metros $\alpha$ e $\beta$ de forma a equilibrar a capacidade de resposta do modelo a mudanÃ§as na demanda e na tendÃªncia, com a necessidade de suavizar o ruÃ­do e outros componentes aleatÃ³rios. A escolha inadequada desses parÃ¢metros pode resultar em previsÃµes com erros maiores, e a escolha ideal serÃ¡ especÃ­fica a cada sÃ©rie temporal. $\blacksquare$

> ğŸ’¡ **Exemplo NumÃ©rico:** Imagine que um modelo TAES, ao usar um valor de $\beta$ muito alto, gere previsÃµes que reajam excessivamente a flutuaÃ§Ãµes aleatÃ³rias na tendÃªncia, em vez de suavizÃ¡-las. Isso resultaria em previsÃµes volÃ¡teis e pouco confiÃ¡veis. Analogamente, um modelo TAES com um valor de $\beta$ muito baixo, poderia ignorar mudanÃ§as importantes na tendÃªncia, levando a previsÃµes desfasadas da realidade. O mesmo raciocÃ­nio se aplica Ã  constante de suavizaÃ§Ã£o $\alpha$, que regula a capacidade de resposta Ã  demanda.
>
> Vamos considerar a mesma sÃ©rie temporal do exemplo anterior e comparar os resultados ao usar $\beta = 0.9$ (alta responsividade Ã  tendÃªncia) com $\beta = 0.1$ (baixa responsividade Ã  tendÃªncia). Vamos manter $\alpha = 0.4$ e os valores iniciais como anteriormente.
>
> | PerÃ­odo (t) | Demanda (A) | TAES ($\beta$=0.9) | TAES ($\beta$=0.1) |
> | ----------- | ---------- |-------------------|-------------------|
> | 1           | 10         | 10                 | 10                |
> | 2           | 12         | 10                 | 10                |
> | 3           | 15         | 11.2               | 10.4              |
> | 4           | 19         | 14.1               | 11.5              |
> | 5           | 24         | 19.8               | 13.7              |
> | 6 (Prev)     | -          | 27.1               | 17.2              |
>
> Como podemos ver, o modelo com $\beta=0.9$ reage muito mais rapidamente Ã s mudanÃ§as na tendÃªncia, resultando em uma previsÃ£o mais alta para o perÃ­odo 6. JÃ¡ o modelo com $\beta = 0.1$ nÃ£o acompanha tÃ£o bem a tendÃªncia. O valor de $\beta = 0.3$ usado no exemplo anterior produz uma previsÃ£o intermediÃ¡ria, que, neste caso especÃ­fico, se ajusta melhor aos dados. A escolha ideal dependerÃ¡ das caracterÃ­sticas da sÃ©rie temporal e do objetivo da anÃ¡lise. O modelo com $\beta=0.9$ pode gerar um *overfitting* nos dados, pois a previsÃ£o se torna muito dependente dos dados mais recentes.

**Teorema 2** *Modelos de suavizaÃ§Ã£o exponencial ajustada para tendÃªncia (TAES) sÃ£o inadequados para modelar padrÃµes sazonais.*

**Prova:**
I. Os modelos TAES utilizam mÃ©dias ponderadas e componentes de tendÃªncia para fazer suas previsÃµes, de modo que modelos com essa estrutura nÃ£o incorporam componentes sazonais.
II. Dados com um padrÃ£o sazonal mostram um comportamento que se repete em determinados perÃ­odos de tempo, e esses padrÃµes nÃ£o sÃ£o modelados com uma abordagem que utiliza apenas mÃ©dias ponderadas.
III. Portanto, a TAES nÃ£o captura o comportamento dos dados com padrÃ£o sazonal, e sua aplicaÃ§Ã£o levarÃ¡ a previsÃµes imprecisas e sem significado prÃ¡tico. $\blacksquare$

> ğŸ’¡ **Exemplo NumÃ©rico:** Suponha que a demanda por um produto apresente um forte padrÃ£o sazonal, com picos no verÃ£o e vales no inverno. O modelo TAES nÃ£o serÃ¡ capaz de capturar esse comportamento, jÃ¡ que a metodologia nÃ£o incorpora um componente para modelar padrÃµes sazonais, de modo que a previsÃ£o TAES seria inadequada para esses dados.
>
> Para ilustrar, suponha que a demanda mensal de um produto seja: 10, 12, 15, 19, 24, 28, 25, 21, 18, 14, 11, 13, que repete este padrÃ£o anualmente. Se usarmos o TAES para prever a demanda para o prÃ³ximo ano, o modelo, ao tentar se ajustar a uma suposta tendÃªncia, falharÃ¡ em capturar o padrÃ£o sazonal.
>
> ```mermaid
> graph LR
>     A[Jan] --> B(10)
>     B --> C[Fev]
>     C --> D(12)
>     D --> E[Mar]
>     E --> F(15)
>     F --> G[Abr]
>     G --> H(19)
>     H --> I[Mai]
>     I --> J(24)
>     J --> K[Jun]
>     K --> L(28)
>     L --> M[Jul]
>     M --> N(25)
>    N --> O[Ago]
>     O --> P(21)
>    P --> Q[Set]
>     Q --> R(18)
>     R --> S[Out]
>    S --> T(14)
>    T --> U[Nov]
>    U --> V(11)
>    V --> W[Dez]
>    W --> X(13)
>    X --> A
>
>     style A fill:#f9f,stroke:#333,stroke-width:2px
>     style C fill:#f9f,stroke:#333,stroke-width:2px
>     style E fill:#f9f,stroke:#333,stroke-width:2px
>     style G fill:#f9f,stroke:#333,stroke-width:2px
>     style I fill:#f9f,stroke:#333,stroke-width:2px
>     style K fill:#f9f,stroke:#333,stroke-width:2px
>     style M fill:#f9f,stroke:#333,stroke-width:2px
>      style O fill:#f9f,stroke:#333,stroke-width:2px
>      style Q fill:#f9f,stroke:#333,stroke-width:2px
>    style S fill:#f9f,stroke:#333,stroke-width:2px
>      style U fill:#f9f,stroke:#333,stroke-width:2px
>       style W fill:#f9f,stroke:#333,stroke-width:2px
> ```
>
>A visualizaÃ§Ã£o acima mostra o comportamento da demanda, revelando um padrÃ£o sazonal, em que a demanda aumenta atÃ© meados do ano, depois comeÃ§a a cair, repetindo o padrÃ£o a cada ano. Um modelo TAES nÃ£o seria capaz de detectar este padrÃ£o.

**Teorema 2.1** *A combinaÃ§Ã£o de TAES com mÃ©todos de modelagem sazonal pode melhorar a precisÃ£o de previsÃµes para sÃ©ries temporais com tendÃªncia e sazonalidade.*
**Prova:**
I. O TAES captura a tendÃªncia nos dados, enquanto modelos de decomposiÃ§Ã£o sazonal, como o Holt-Winters, capturam os padrÃµes sazonais.
II. Combinar esses mÃ©todos, seja usando modelos hÃ­bridos ou aplicando-os sequencialmente, pode permitir uma modelagem mais completa da sÃ©rie temporal.
III.  Por exemplo, um modelo poderia utilizar a decomposiÃ§Ã£o sazonal para remover os componentes sazonais, aplicar TAES nos dados desazonalizados e entÃ£o adicionar novamente o componente sazonal Ã s previsÃµes. $\blacksquare$
> ğŸ’¡ **Exemplo NumÃ©rico:** Utilizando a mesma sÃ©rie temporal com sazonalidade e tendÃªncia do exemplo anterior, podemos aplicar um modelo de decomposiÃ§Ã£o sazonal para remover a sazonalidade dos dados. Em seguida, aplicamos o TAES nos dados desazonalizados para capturar a tendÃªncia restante. Finalmente, podemos combinar a previsÃ£o de tendÃªncia com o componente sazonal removido, obtendo assim uma previsÃ£o que leva em conta tanto a tendÃªncia quanto a sazonalidade dos dados. MÃ©todos como Holt-Winters, ou mesmo modelos de sÃ©ries temporais como ARIMA, sÃ£o capazes de capturar a sazonalidade.

### ConclusÃ£o
A SuavizaÃ§Ã£o Exponencial Ajustada para TendÃªncia (TAES) Ã© uma ferramenta de previsÃ£o poderosa, especialmente quando a demanda apresenta uma tendÃªncia linear. No entanto, a escolha dos parÃ¢metros de suavizaÃ§Ã£o, $\alpha$ e $\beta$, deve ser feita com cuidado, considerando as caracterÃ­sticas dos dados. AlÃ©m disso, Ã© importante ter em mente que a TAES nÃ£o Ã© adequada para dados que apresentam padrÃµes nÃ£o lineares ou sazonais complexos [^2]. O uso adequado da TAES requer o conhecimento de suas limitaÃ§Ãµes e a combinaÃ§Ã£o com outros mÃ©todos de anÃ¡lise e previsÃ£o para melhores resultados. A aplicaÃ§Ã£o adequada desse modelo tambÃ©m requer o entendimento das suposiÃ§Ãµes, para evitar conclusÃµes errÃ´neas.

### ReferÃªncias
[^1]: Chapter 3, p. 70
[^2]: Previous Topic
[^3]: Chapter 3, p. 64
<!-- END -->
