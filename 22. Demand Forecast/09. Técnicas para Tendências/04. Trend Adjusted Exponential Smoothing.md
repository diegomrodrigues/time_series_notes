## Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia (TAES)

### Introdu√ß√£o
Em continuidade ao nosso estudo sobre t√©cnicas de previs√£o de demanda e, especificamente, ao tema de *modelagem de tend√™ncias*, abordamos agora a **Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia (TAES)**, uma extens√£o da suaviza√ß√£o exponencial que busca lidar com dados que apresentam uma tend√™ncia (crescente ou decrescente) ao longo do tempo [^1]. Como vimos anteriormente, o modelo de suaviza√ß√£o exponencial padr√£o [^2] pode n√£o ser suficiente para modelar demandas que apresentam uma tend√™ncia clara, pois ele tende a "lag" ou atrasar em rela√ß√£o aos dados reais, ou seja, n√£o reage suficientemente r√°pido √†s mudan√ßas na dire√ß√£o da tend√™ncia. A TAES corrige essa limita√ß√£o ao incorporar um segundo fator de suaviza√ß√£o, $\beta$, que ajusta o modelo √† tend√™ncia subjacente dos dados, como referenciado [^3].

### Conceitos Fundamentais
A Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia (TAES) √© um m√©todo de previs√£o de s√©ries temporais que, como vimos em cap√≠tulos anteriores, busca suavizar os dados, ao mesmo tempo que considera a tend√™ncia da s√©rie. A principal diferen√ßa em rela√ß√£o √† suaviza√ß√£o exponencial simples reside na incorpora√ß√£o de um componente adicional para a tend√™ncia [^2]. A TAES utiliza uma m√©dia ponderada dos valores passados para fazer previs√µes, mas tamb√©m leva em considera√ß√£o uma tend√™ncia nos dados que est√° mudando.

A f√≥rmula da TAES √© dada por:

$$ TAES_t = F_t + T_t $$

onde:
*   $TAES_t$ √© a previs√£o da suaviza√ß√£o exponencial ajustada para tend√™ncia no per√≠odo $t$.
*   $F_t$ √© a previs√£o exponencialmente suavizada para o per√≠odo $t$.
*   $T_t$ √© a estimativa da tend√™ncia exponencialmente suavizada para o per√≠odo $t$.

As f√≥rmulas para $F_t$ e $T_t$ s√£o dadas por:

$$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$

$$ T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1} $$

onde:
*  $A_{t-1}$ √© a demanda real no per√≠odo anterior $(t-1)$.
*   $\alpha$ √© a constante de suaviza√ß√£o para a m√©dia (0 ‚â§ $\alpha$ ‚â§ 1).
*   $\beta$ √© a constante de suaviza√ß√£o para a tend√™ncia (0 ‚â§ $\beta$ ‚â§ 1).
*   $TAES_{t-1}$ √© a previs√£o de demanda ajustada para tend√™ncia do per√≠odo anterior.
*   $F_{t-1}$ √© a previs√£o exponencialmente suavizada para o per√≠odo anterior.
*   $T_{t-1}$ √© a estimativa da tend√™ncia exponencialmente suavizada para o per√≠odo anterior.

A constante de suaviza√ß√£o $\alpha$ √© utilizada para modular a resposta da m√©dia suavizada aos dados mais recentes. Um valor de $\alpha$ pr√≥ximo de 1 dar√° mais peso aos dados mais recentes, resultando em um modelo mais responsivo, enquanto um valor pr√≥ximo de 0 dar√° mais peso aos dados passados, resultando em um modelo mais est√°vel. Similarmente, a constante de suaviza√ß√£o $\beta$ modula a capacidade de resposta √† tend√™ncia. Um valor de $\beta$ pr√≥ximo de 1 indicar√° que o modelo √© mais responsivo a altera√ß√µes recentes na tend√™ncia, e valores pr√≥ximos de 0 indicar√£o um modelo menos responsivo a altera√ß√µes da tend√™ncia, com mais peso na tend√™ncia anterior [^3].

> üí° **Exemplo Num√©rico:** Suponha que tenhamos os seguintes dados de demanda ao longo do tempo, que apresentam uma tend√™ncia crescente:
>
> | Per√≠odo (t) | Demanda (A) |
> | ----------- | ---------- |
> | 1           | 10         |
> | 2           | 12         |
> | 3           | 15         |
> | 4           | 19         |
> | 5           | 24         |
>
> Para aplicar o m√©todo TAES, precisamos de valores iniciais para a m√©dia e a tend√™ncia. Vamos assumir $TAES_1$ = 10 (a mesma da demanda inicial) e $T_1$ = 0. Vamos escolher $\alpha = 0.4$ e $\beta = 0.3$. Vamos calcular as previs√µes para os per√≠odos seguintes:
>
> **Per√≠odo 2:**
>
> $F_2 = 0.4 * 10 + (1 - 0.4) * 10 = 10$
>
> $T_2 = 0.3 * (10 - 10) + (1-0.3) * 0 = 0$
>
> $TAES_2 = 10 + 0 = 10$
>
> **Per√≠odo 3:**
>
> $F_3 = 0.4 * 12 + (1-0.4) * 10 = 10.8$
>
> $T_3 = 0.3 * (10.8 - 10) + (1 - 0.3) * 0 = 0.24$
>
> $TAES_3 = 10.8 + 0.24 = 11.04$
>
> **Per√≠odo 4:**
>
> $F_4 = 0.4 * 15 + (1 - 0.4) * 11.04 = 12.62$
>
> $T_4 = 0.3 * (12.62 - 10.8) + (1 - 0.3) * 0.24 = 0.70$
>
> $TAES_4 = 12.62 + 0.70 = 13.32$
>
> **Per√≠odo 5:**
>
> $F_5 = 0.4 * 19 + (1 - 0.4) * 13.32 = 15.59$
>
> $T_5 = 0.3 * (15.59 - 12.62) + (1 - 0.3) * 0.70 = 1.34$
>
> $TAES_5 = 15.59 + 1.34 = 16.93$
>
> **Per√≠odo 6 (Previs√£o):**
>
> $F_6 = 0.4 * 24 + (1 - 0.4) * 16.93 = 19.76$
>
> $T_6 = 0.3 * (19.76 - 15.59) + (1 - 0.3) * 1.34 = 2.26$
>
> $TAES_6 = 19.76 + 2.26 = 22.02$
>
> Como pode-se observar, as previs√µes acompanham a tend√™ncia crescente dos dados. O modelo de Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia (TAES) incorpora informa√ß√µes sobre a tend√™ncia e, portanto, gera resultados mais ajustados em rela√ß√£o a outros m√©todos.

**Prova do Modelo de TAES:**

Para entender o modelo de TAES, vamos considerar as equa√ß√µes recursivas do modelo:

$$TAES_t = F_t + T_t $$
$$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$
$$ T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1} $$

Onde $F_t$ √© a m√©dia suavizada exponencialmente, e $T_t$ √© a componente da tend√™ncia suavizada exponencialmente.

I.  A primeira equa√ß√£o, $TAES_t = F_t + T_t$, mostra que a previs√£o no per√≠odo $t$ √© a soma da m√©dia suavizada e a tend√™ncia suavizada no mesmo per√≠odo.
II. A segunda equa√ß√£o, $F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1}$, define que a m√©dia suavizada no per√≠odo $t$ √© uma m√©dia ponderada da demanda real no per√≠odo anterior ($A_{t-1}$) e a previs√£o total suavizada ($TAES_{t-1}$) do per√≠odo anterior, usando um fator de suaviza√ß√£o $\alpha$.
III. A terceira equa√ß√£o, $T_t = \beta (F_t - F_{t-1}) + (1-\beta) T_{t-1}$, mostra que a tend√™ncia suavizada no per√≠odo $t$ √© uma m√©dia ponderada da mudan√ßa na m√©dia suavizada no per√≠odo anterior ($F_t - F_{t-1}$) e a tend√™ncia suavizada do per√≠odo anterior ($T_{t-1}$), usando um fator de suaviza√ß√£o $\beta$.
IV. Note que  $F_t$ incorpora o valor de $TAES_{t-1}$, que j√° cont√©m informa√ß√µes sobre as tend√™ncias passadas, e $T_t$ incorpora o valor de $T_{t-1}$, que tamb√©m j√° considera as tend√™ncias. Portanto o valor atual $TAES_t$ cont√©m todas as tend√™ncias passadas, com mais peso nas tend√™ncias recentes, gra√ßas ao uso de $\alpha$ e $\beta$. $\blacksquare$

**Proposi√ß√£o 1:** *A f√≥rmula de atualiza√ß√£o da m√©dia suavizada $F_t$ pode ser reescrita em termos das demandas passadas,  mostrando explicitamente que o valor atual √© uma m√©dia ponderada exponencialmente das demandas passadas.*

**Prova:**
I.  Come√ßando com a f√≥rmula recursiva para $F_t$:
    $$ F_t = \alpha A_{t-1} + (1 - \alpha) TAES_{t-1} $$
    E expandindo $TAES_{t-1}$:
    $$ F_t = \alpha A_{t-1} + (1 - \alpha) (F_{t-1} + T_{t-1}) $$

II. Substituindo recursivamente $F_{t-1}$ teremos:
   $$ F_t = \alpha A_{t-1} + (1-\alpha)\alpha A_{t-2} + (1-\alpha)^2 (F_{t-2} + T_{t-2}) $$
    E continuando a substitui√ß√£o recursiva, chegaremos a:
$$ F_t = \alpha A_{t-1} + (1-\alpha)\alpha A_{t-2} + (1-\alpha)^2\alpha A_{t-3} + \ldots + (1-\alpha)^{t-2}\alpha A_1 + (1-\alpha)^{t-1} (F_1 + T_1) $$
    Onde $F_1$ e $T_1$ s√£o valores iniciais.

III.  Reescrevendo a express√£o em termos de somat√≥rio:
    $$ F_t = \sum_{k=1}^{t-1} \alpha (1-\alpha)^{t-1-k} A_k + (1-\alpha)^{t-1} (F_1 + T_1) $$
    Esta equa√ß√£o mostra que $F_t$ √© uma m√©dia ponderada das demandas passadas $A_k$, onde o peso de cada demanda decresce exponencialmente √† medida que nos afastamos no tempo. O termo $(1-\alpha)^{t-1} (F_1 + T_1)$ √© o peso dado √† condi√ß√£o inicial, que tamb√©m decresce exponencialmente com o tempo.
$\blacksquare$

### Vantagens da TAES

-   **Adapta√ß√£o a Tend√™ncias:** A principal vantagem da TAES √© sua capacidade de lidar com dados que apresentam uma tend√™ncia, seja ela crescente ou decrescente, mitigando o atraso da suaviza√ß√£o exponencial simples [^3].
-   **Suaviza√ß√£o de Ru√≠do:** A TAES suaviza os dados, reduzindo o impacto de flutua√ß√µes aleat√≥rias e tornando as previs√µes mais est√°veis.
-   **Flexibilidade:** As constantes de suaviza√ß√£o $\alpha$ e $\beta$ permitem ajustar a capacidade de resposta do modelo √† demanda e √† tend√™ncia.

### Limita√ß√µes da TAES

-   **Complexidade:** A TAES √© mais complexa que a suaviza√ß√£o exponencial simples, o que pode dificultar sua implementa√ß√£o e interpreta√ß√£o.
-  **Escolha de $\alpha$ e $\beta$:** A escolha adequada dos par√¢metros de suaviza√ß√£o, $\alpha$ e $\beta$ √© crucial para o desempenho do modelo. A escolha inadequada desses par√¢metros pode gerar resultados piores que os obtidos com outros modelos mais simples.
-   **Dados N√£o Lineares:** Assim como outros modelos de s√©ries temporais lineares, a TAES pode n√£o ser a melhor escolha para dados que apresentam padr√µes n√£o lineares ou sazonalidade complexa. Para modelos n√£o lineares, como o modelo multiplicativo ou outros modelos como o Box-Jenkins, √© necess√°rio verificar as pressuposi√ß√µes e a adequa√ß√£o dos modelos aos dados dispon√≠veis.

**Teorema 1** *A escolha apropriada dos par√¢metros $\alpha$ e $\beta$ na Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia √© crucial para a precis√£o das previs√µes.*

**Prova:**
I. A constante $\alpha$ controla o peso dado aos dados mais recentes na m√©dia exponencialmente suavizada ($F_t$). Um $\alpha$ muito alto (pr√≥ximo de 1) far√° com que o modelo reaja rapidamente a varia√ß√µes aleat√≥rias, aumentando a instabilidade, enquanto um $\alpha$ muito baixo (pr√≥ximo de 0) far√° com que o modelo demore a se ajustar a mudan√ßas na demanda.

II. Similarmente, a constante $\beta$ controla o peso dado √†s mudan√ßas na tend√™ncia na estimativa de tend√™ncia suavizada ($T_t$). Um $\beta$ muito alto (pr√≥ximo de 1) far√° com que o modelo se ajuste rapidamente a mudan√ßas recentes na tend√™ncia, enquanto um $\beta$ muito baixo (pr√≥ximo de 0) far√° com que o modelo ignore as mudan√ßas na tend√™ncia, resultando em previs√µes que podem estar desfasadas.

III. Portanto, √© necess√°rio escolher os par√¢metros $\alpha$ e $\beta$ de forma a equilibrar a capacidade de resposta do modelo a mudan√ßas na demanda e na tend√™ncia, com a necessidade de suavizar o ru√≠do e outros componentes aleat√≥rios. A escolha inadequada desses par√¢metros pode resultar em previs√µes com erros maiores, e a escolha ideal ser√° espec√≠fica a cada s√©rie temporal. $\blacksquare$

> üí° **Exemplo Num√©rico:** Imagine que um modelo TAES, ao usar um valor de $\beta$ muito alto, gere previs√µes que reajam excessivamente a flutua√ß√µes aleat√≥rias na tend√™ncia, em vez de suaviz√°-las. Isso resultaria em previs√µes vol√°teis e pouco confi√°veis. Analogamente, um modelo TAES com um valor de $\beta$ muito baixo, poderia ignorar mudan√ßas importantes na tend√™ncia, levando a previs√µes desfasadas da realidade. O mesmo racioc√≠nio se aplica √† constante de suaviza√ß√£o $\alpha$, que regula a capacidade de resposta √† demanda.
>
> Vamos considerar a mesma s√©rie temporal do exemplo anterior e comparar os resultados ao usar $\beta = 0.9$ (alta responsividade √† tend√™ncia) com $\beta = 0.1$ (baixa responsividade √† tend√™ncia). Vamos manter $\alpha = 0.4$ e os valores iniciais como anteriormente.
>
> | Per√≠odo (t) | Demanda (A) | TAES ($\beta$=0.9) | TAES ($\beta$=0.1) |
> | ----------- | ---------- |-------------------|-------------------|
> | 1           | 10         | 10                 | 10                |
> | 2           | 12         | 10                 | 10                |
> | 3           | 15         | 11.2               | 10.4              |
> | 4           | 19         | 14.1               | 11.5              |
> | 5           | 24         | 19.8               | 13.7              |
> | 6 (Prev)     | -          | 27.1               | 17.2              |
>
> Como podemos ver, o modelo com $\beta=0.9$ reage muito mais rapidamente √†s mudan√ßas na tend√™ncia, resultando em uma previs√£o mais alta para o per√≠odo 6. J√° o modelo com $\beta = 0.1$ n√£o acompanha t√£o bem a tend√™ncia. O valor de $\beta = 0.3$ usado no exemplo anterior produz uma previs√£o intermedi√°ria, que, neste caso espec√≠fico, se ajusta melhor aos dados. A escolha ideal depender√° das caracter√≠sticas da s√©rie temporal e do objetivo da an√°lise. O modelo com $\beta=0.9$ pode gerar um *overfitting* nos dados, pois a previs√£o se torna muito dependente dos dados mais recentes.

**Teorema 2** *Modelos de suaviza√ß√£o exponencial ajustada para tend√™ncia (TAES) s√£o inadequados para modelar padr√µes sazonais.*

**Prova:**
I. Os modelos TAES utilizam m√©dias ponderadas e componentes de tend√™ncia para fazer suas previs√µes, de modo que modelos com essa estrutura n√£o incorporam componentes sazonais.
II. Dados com um padr√£o sazonal mostram um comportamento que se repete em determinados per√≠odos de tempo, e esses padr√µes n√£o s√£o modelados com uma abordagem que utiliza apenas m√©dias ponderadas.
III. Portanto, a TAES n√£o captura o comportamento dos dados com padr√£o sazonal, e sua aplica√ß√£o levar√° a previs√µes imprecisas e sem significado pr√°tico. $\blacksquare$

> üí° **Exemplo Num√©rico:** Suponha que a demanda por um produto apresente um forte padr√£o sazonal, com picos no ver√£o e vales no inverno. O modelo TAES n√£o ser√° capaz de capturar esse comportamento, j√° que a metodologia n√£o incorpora um componente para modelar padr√µes sazonais, de modo que a previs√£o TAES seria inadequada para esses dados.
>
> Para ilustrar, suponha que a demanda mensal de um produto seja: 10, 12, 15, 19, 24, 28, 25, 21, 18, 14, 11, 13, que repete este padr√£o anualmente. Se usarmos o TAES para prever a demanda para o pr√≥ximo ano, o modelo, ao tentar se ajustar a uma suposta tend√™ncia, falhar√° em capturar o padr√£o sazonal.
>
> ```mermaid
> graph LR
>     A[Jan] --> B(10)
>     B --> C[Fev]
>     C --> D(12)
>     D --> E[Mar]
>     E --> F(15)
>     F --> G[Abr]
>     G --> H(19)
>     H --> I[Mai]
>     I --> J(24)
>     J --> K[Jun]
>     K --> L(28)
>     L --> M[Jul]
>     M --> N(25)
>    N --> O[Ago]
>     O --> P(21)
>    P --> Q[Set]
>     Q --> R(18)
>     R --> S[Out]
>    S --> T(14)
>    T --> U[Nov]
>    U --> V(11)
>    V --> W[Dez]
>    W --> X(13)
>    X --> A
>
>     style A fill:#f9f,stroke:#333,stroke-width:2px
>     style C fill:#f9f,stroke:#333,stroke-width:2px
>     style E fill:#f9f,stroke:#333,stroke-width:2px
>     style G fill:#f9f,stroke:#333,stroke-width:2px
>     style I fill:#f9f,stroke:#333,stroke-width:2px
>     style K fill:#f9f,stroke:#333,stroke-width:2px
>     style M fill:#f9f,stroke:#333,stroke-width:2px
>      style O fill:#f9f,stroke:#333,stroke-width:2px
>      style Q fill:#f9f,stroke:#333,stroke-width:2px
>    style S fill:#f9f,stroke:#333,stroke-width:2px
>      style U fill:#f9f,stroke:#333,stroke-width:2px
>       style W fill:#f9f,stroke:#333,stroke-width:2px
> ```
>
>A visualiza√ß√£o acima mostra o comportamento da demanda, revelando um padr√£o sazonal, em que a demanda aumenta at√© meados do ano, depois come√ßa a cair, repetindo o padr√£o a cada ano. Um modelo TAES n√£o seria capaz de detectar este padr√£o.

**Teorema 2.1** *A combina√ß√£o de TAES com m√©todos de modelagem sazonal pode melhorar a precis√£o de previs√µes para s√©ries temporais com tend√™ncia e sazonalidade.*
**Prova:**
I. O TAES captura a tend√™ncia nos dados, enquanto modelos de decomposi√ß√£o sazonal, como o Holt-Winters, capturam os padr√µes sazonais.
II. Combinar esses m√©todos, seja usando modelos h√≠bridos ou aplicando-os sequencialmente, pode permitir uma modelagem mais completa da s√©rie temporal.
III.  Por exemplo, um modelo poderia utilizar a decomposi√ß√£o sazonal para remover os componentes sazonais, aplicar TAES nos dados desazonalizados e ent√£o adicionar novamente o componente sazonal √†s previs√µes. $\blacksquare$
> üí° **Exemplo Num√©rico:** Utilizando a mesma s√©rie temporal com sazonalidade e tend√™ncia do exemplo anterior, podemos aplicar um modelo de decomposi√ß√£o sazonal para remover a sazonalidade dos dados. Em seguida, aplicamos o TAES nos dados desazonalizados para capturar a tend√™ncia restante. Finalmente, podemos combinar a previs√£o de tend√™ncia com o componente sazonal removido, obtendo assim uma previs√£o que leva em conta tanto a tend√™ncia quanto a sazonalidade dos dados. M√©todos como Holt-Winters, ou mesmo modelos de s√©ries temporais como ARIMA, s√£o capazes de capturar a sazonalidade.

### Conclus√£o
A Suaviza√ß√£o Exponencial Ajustada para Tend√™ncia (TAES) √© uma ferramenta de previs√£o poderosa, especialmente quando a demanda apresenta uma tend√™ncia linear. No entanto, a escolha dos par√¢metros de suaviza√ß√£o, $\alpha$ e $\beta$, deve ser feita com cuidado, considerando as caracter√≠sticas dos dados. Al√©m disso, √© importante ter em mente que a TAES n√£o √© adequada para dados que apresentam padr√µes n√£o lineares ou sazonais complexos [^2]. O uso adequado da TAES requer o conhecimento de suas limita√ß√µes e a combina√ß√£o com outros m√©todos de an√°lise e previs√£o para melhores resultados. A aplica√ß√£o adequada desse modelo tamb√©m requer o entendimento das suposi√ß√µes, para evitar conclus√µes err√¥neas.

### Refer√™ncias
[^1]: Chapter 3, p. 70
[^2]: Previous Topic
[^3]: Chapter 3, p. 64
<!-- END -->
