## Modelos de S√©ries Temporais: Uma An√°lise Detalhada

### Introdu√ß√£o
Em continuidade ao estudo de t√©cnicas de previs√£o de demanda, este cap√≠tulo aprofunda-se nos **modelos de s√©ries temporais**, que se destacam pela an√°lise de dados passados, sequenciais e espa√ßados em intervalos de tempo uniformes, para prever o futuro [^5]. A premissa central desses modelos reside na ideia de que os padr√µes hist√≥ricos de demanda s√£o repetitivos e que, portanto, a demanda futura pode ser prevista exclusivamente com base na demanda passada. Este pressuposto simplificador permite uma an√°lise matem√°tica e estat√≠stica mais focada, embora tamb√©m implique uma limita√ß√£o na considera√ß√£o de outros fatores externos que podem influenciar a demanda, como pre√ßos ou a√ß√µes da concorr√™ncia [^5].

### Conceitos Fundamentais
A base dos modelos de s√©ries temporais reside na **decomposi√ß√£o da s√©rie** em quatro componentes principais: **tend√™ncia**, **ciclo**, **sazonalidade** e **movimentos irregulares** [^5]. Cada um desses componentes captura diferentes aspectos da varia√ß√£o temporal nos dados de demanda:

1.  **Tend√™ncia:** Representa o movimento de longo prazo da demanda, seja ele ascendente ou descendente. A tend√™ncia √© influenciada por mudan√ßas demogr√°ficas, avan√ßos tecnol√≥gicos, ou mudan√ßas sociais [^5].  Um exemplo claro √© o aumento da demanda por servi√ßos geri√°tricos devido ao envelhecimento da popula√ß√£o [^5].
2.  **Ciclo:** Refere-se a padr√µes que ocorrem ao longo de v√°rios anos, impulsionados por fatores como mudan√ßas nas condi√ß√µes econ√¥micas, eventos pol√≠ticos ou guerras [^5]. A recess√£o econ√¥mica de 2007, por exemplo, diminuiu as visitas a consult√≥rios particulares, mas aumentou a procura por centros de sa√∫de comunit√°rios [^5].
3.  **Sazonalidade:** √â caracterizada por padr√µes que se repetem em intervalos regulares, como diariamente, semanalmente, mensalmente ou anualmente. Exemplos incluem a queda no n√∫mero de pacientes em emerg√™ncias entre meia-noite e 8h da manh√£ ou o aumento de fraturas de quadril no inverno [^6].
4.  **Movimentos Irregulares:** Abrangem varia√ß√µes aleat√≥rias que n√£o podem ser previstas e que ocorrem por acaso. Essas varia√ß√µes garantem que nenhuma previs√£o seja perfeita [^6]. Por exemplo, as flutua√ß√µes di√°rias no n√∫mero de pacientes que chegam a um pronto-socorro [^6].

Para modelar as s√©ries temporais, s√£o usadas ferramentas matem√°ticas e estat√≠sticas de **decomposi√ß√£o** e **an√°lise funcional**. Essas ferramentas permitem isolar e quantificar cada um dos componentes da s√©rie temporal, possibilitando a constru√ß√£o de modelos preditivos e a an√°lise de resultados. Os modelos que vamos explorar s√£o, em grande parte, abordagens m√©dias, ponderadas ou n√£o, sobre dados passados.

#### Abordagem Ing√™nua (*Naive Approach*)
O modelo mais simples, o **_naive approach_**, assume que a demanda do pr√≥ximo per√≠odo ser√° igual √† demanda do per√≠odo atual [^6]. Formalmente, se a demanda do √∫ltimo m√™s para leitos hospitalares foi de 220, a previs√£o para o m√™s seguinte ser√° de 220 [^6]. Apesar de sua simplicidade e baixo custo, essa abordagem produz previs√µes extremamente responsivas, sendo mais adequada quando as flutua√ß√µes aleat√≥rias s√£o m√≠nimas [^6].

> üí° **Exemplo Num√©rico:**
> Suponha que temos o n√∫mero de pacientes atendidos em um hospital nos √∫ltimos cinco dias: 150, 155, 160, 158, e 162. Usando a abordagem *naive*, a previs√£o para o sexto dia seria 162, ou seja, o mesmo n√∫mero do quinto dia.
> ```mermaid
>   graph LR
>       A[Dia 1: 150] --> B(Dia 2: 155);
>       B --> C(Dia 3: 160);
>       C --> D(Dia 4: 158);
>       D --> E(Dia 5: 162);
>       E --> F(Previs√£o Dia 6: 162);
> ```

#### M√©dia M√≥vel Simples (*Simple Moving Average - SMA*)
A **m√©dia m√≥vel simples (SMA)** suaviza os dados calculando a m√©dia da demanda de um n√∫mero fixo de per√≠odos anteriores [^6]. Uma m√©dia m√≥vel de 3 meses usa a m√©dia dos √∫ltimos 3 meses para prever a demanda do pr√≥ximo m√™s, enquanto uma m√©dia m√≥vel de 7 dias utiliza a m√©dia dos √∫ltimos 7 dias para prever a demanda de amanh√£ [^6]. A f√≥rmula para a m√©dia m√≥vel simples no per√≠odo t √© expressa como:

$$SMA_t = \frac{A_{t-1} + A_{t-2} + \ldots + A_{t-n}}{n}$$

onde:
- $SMA_t$ √© a m√©dia m√≥vel simples para o per√≠odo *t*.
- $n$ √© o n√∫mero de per√≠odos inclu√≠dos na m√©dia.
- $A_{t-1}, A_{t-2}, \ldots, A_{t-n}$ s√£o as demandas reais em per√≠odos anteriores [^7].

A SMA suaviza o componente irregular, mas o n√∫mero de per√≠odos inclu√≠dos na m√©dia influencia sua **estabilidade** e **responsividade** [^7]. Aumentar o n√∫mero de per√≠odos aumenta a estabilidade, mas diminui a responsividade, e vice-versa [^7]. A escolha do n√∫mero de per√≠odos √© um balan√ßo entre esses dois fatores.

> üí° **Exemplo Num√©rico:**
> Usando os mesmos dados de pacientes (150, 155, 160, 158, 162), calculemos a SMA para o 5¬∫ dia com n=3:
>  $SMA_5 = \frac{160 + 158 + 162}{3} = \frac{480}{3} = 160$.
>  A previs√£o para o 6¬∫ dia usando a SMA com n=3 seria, nesse caso, 160.
> Para o 4¬∫ dia, $SMA_4 = \frac{155+160+158}{3} = \frac{473}{3} \approx 157.67$
> ```python
> import numpy as np
> data = np.array([150, 155, 160, 158, 162])
> n = 3
> sma_5 = np.mean(data[-n:])
> print(f"SMA para o dia 5 (n=3): {sma_5}")
> sma_4 = np.mean(data[1:4])
> print(f"SMA para o dia 4 (n=3): {sma_4}")
> ```
>
> A sa√≠da do c√≥digo √©:
> ```
> SMA para o dia 5 (n=3): 160.0
> SMA para o dia 4 (n=3): 157.66666666666666
> ```

#### M√©dia M√≥vel Ponderada (*Weighted Moving Average - WMA*)
A **m√©dia m√≥vel ponderada (WMA)** d√° mais peso aos dados de demanda mais recentes, tornando a previs√£o mais responsiva a mudan√ßas [^7]. A f√≥rmula para a WMA no per√≠odo *t* √©:

$$WMA_t = w_1A_{t-1} + w_2A_{t-2} + \ldots + w_nA_{t-n}$$

onde:
- $WMA_t$ √© a m√©dia m√≥vel ponderada para o per√≠odo *t*.
- $w_1, w_2, \ldots, w_n$ s√£o os pesos atribu√≠dos a cada per√≠odo, com $0 \leq w_i \leq 1$ e $\sum_{i=1}^n w_i = 1$
- $A_{t-1}, A_{t-2}, \ldots, A_{t-n}$ s√£o as demandas reais em per√≠odos anteriores [^7].

Os pesos s√£o determinados por julgamento e tentativa e erro. Essa t√©cnica, embora mais flex√≠vel que a SMA, ainda √© uma m√©dia de valores passados, o que significa que sempre estar√° defasada em rela√ß√£o a um padr√£o sazonal ou de tend√™ncia. A WMA √© mais adequada para previs√µes de curto prazo [^7].

> üí° **Exemplo Num√©rico:**
> Usando os mesmos dados de pacientes (150, 155, 160, 158, 162), vamos calcular a WMA para o 5¬∫ dia com n=3 e pesos 0.5, 0.3 e 0.2, respectivamente.
> $WMA_5 = (0.5 \times 162) + (0.3 \times 158) + (0.2 \times 160) = 81 + 47.4 + 32 = 160.4$
> A previs√£o para o 6¬∫ dia usando a WMA com esses pesos seria 160.4. Note que os dados mais recentes (dia 5) t√™m um peso maior.
> Para o 4¬∫ dia, $WMA_4 = (0.5 \times 158) + (0.3 \times 160) + (0.2 \times 155) = 79 + 48 + 31 = 158$.

#### Suaviza√ß√£o Exponencial (*Exponential Smoothing - ES*)
A **suaviza√ß√£o exponencial (ES)** √© uma t√©cnica popular que atribui um peso ($\alpha$) entre 0 e 1 √† demanda real do per√≠odo anterior e um peso $(1-\alpha)$ √† previs√£o suavizada exponencialmente do per√≠odo anterior [^8]. A f√≥rmula para a suaviza√ß√£o exponencial no per√≠odo *t* √©:

$$ES_t = \alpha A_{t-1} + (1-\alpha) ES_{t-1}$$

onde:
- $ES_t$ √© a previs√£o suavizada exponencialmente para o per√≠odo *t*.
- $A_{t-1}$ √© a demanda real no per√≠odo anterior.
- $ES_{t-1}$ √© a previs√£o suavizada exponencialmente para o per√≠odo anterior [^8].
- $\alpha$ √© a constante de suaviza√ß√£o (0 $\leq$ $\alpha$ $\leq$ 1).

Essa t√©cnica se distingue das m√©dias m√≥veis porque usa apenas dois pontos de dados: a demanda real e a previs√£o do per√≠odo anterior, em vez de m√∫ltiplos per√≠odos de demanda [^9]. Essa caracter√≠stica a torna mais adequada em termos de **parcim√¥nia**, sendo amplamente usada em neg√≥cios [^9]. A constante de suaviza√ß√£o ($\alpha$) modula a responsividade do modelo, sendo que valores altos de $\alpha$ tornam a previs√£o mais responsiva, e valores baixos, mais est√°veis [^9].

> üí° **Exemplo Num√©rico:**
>  Vamos usar novamente os dados de pacientes (150, 155, 160, 158, 162). Para a suaviza√ß√£o exponencial, precisamos de um valor inicial $ES_1$, que podemos definir como o primeiro valor da s√©rie, 150. Seja $\alpha = 0.2$.
>
> $\text{ES}_2 = 0.2 \times 150 + (1-0.2) \times 150 = 150$
>
> $\text{ES}_3 = 0.2 \times 155 + (1-0.2) \times 150 = 31 + 120 = 151$
>
> $\text{ES}_4 = 0.2 \times 160 + (1-0.2) \times 151 = 32 + 120.8 = 152.8$
>
> $\text{ES}_5 = 0.2 \times 158 + (1-0.2) \times 152.8 = 31.6 + 122.24 = 153.84$
>
> $\text{ES}_6 = 0.2 \times 162 + (1-0.2) \times 153.84 = 32.4 + 123.072 = 155.472$
>
> A previs√£o para o 6¬∫ dia usando ES com $\alpha = 0.2$ √© 155.472.
> ```python
> import numpy as np
>
> def exponential_smoothing(data, alpha):
>     es = np.zeros_like(data, dtype=float)
>     es[0] = data[0]
>     for t in range(1, len(data)):
>         es[t] = alpha * data[t-1] + (1 - alpha) * es[t-1]
>     return es
>
> data = np.array([150, 155, 160, 158, 162])
> alpha = 0.2
> es_values = exponential_smoothing(data, alpha)
> print(f"Valores ES: {es_values}")
> print(f"Previs√£o ES para o dia 6: {alpha * data[-1] + (1-alpha) * es_values[-1]}")
> ```
> A sa√≠da do c√≥digo √©:
> ```
> Valores ES: [150.         150.         151.         152.8        153.84      ]
> Previs√£o ES para o dia 6: 155.472
> ```

**Lema 1** Uma forma alternativa de expressar a suaviza√ß√£o exponencial √© utilizando uma expans√£o recursiva da f√≥rmula.
*Demonstra√ß√£o:* Substituindo recursivamente $ES_{t-1}$ na equa√ß√£o original, obtemos:
$$ES_t = \alpha A_{t-1} + (1-\alpha)[\alpha A_{t-2} + (1-\alpha)ES_{t-2}]$$
$$ES_t = \alpha A_{t-1} + \alpha(1-\alpha) A_{t-2} + (1-\alpha)^2 ES_{t-2}$$
Continuando este processo, chegamos a:
$$ES_t = \alpha \sum_{k=1}^{t-1} (1-\alpha)^{k-1} A_{t-k} + (1-\alpha)^{t-1} ES_1$$
Essa formula√ß√£o revela que a suaviza√ß√£o exponencial √© uma m√©dia ponderada de todas as observa√ß√µes passadas, onde os pesos decaem exponencialmente com o tempo. O termo $(1-\alpha)^{t-1} ES_1$  representa a influ√™ncia da estimativa inicial.
‚ñ†

#### Suaviza√ß√£o Exponencial Ajustada por Tend√™ncia (*Trend-Adjusted Exponential Smoothing - TAES*)
Para compensar a defasagem da ES em rela√ß√£o a tend√™ncias, a **suaviza√ß√£o exponencial ajustada por tend√™ncia (TAES)** inclui uma segunda constante de suaviza√ß√£o ($\beta$) para ajustar a tend√™ncia. A f√≥rmula para a TAES no per√≠odo *t* √©:

$$TAES_t = F_t + T_t$$

onde:

$$F_t = \alpha A_{t-1} + (1-\alpha) TAES_{t-1}$$

$$T_t = \beta(F_t-F_{t-1}) + (1-\beta)(T_{t-1})$$

-   $TAES_t$ √© a previs√£o ajustada por tend√™ncia para o per√≠odo *t*.
-   $F_t$ √© a previs√£o suavizada exponencialmente para o per√≠odo *t*.
-   $T_t$ √© a estimativa suavizada exponencialmente da tend√™ncia para o per√≠odo *t*.
-  $\alpha$ √© a constante de suaviza√ß√£o para o n√≠vel.
-  $\beta$ √© a constante de suaviza√ß√£o para a tend√™ncia.

O processo de c√°lculo da TAES requer alguns passos: primeiro, calcula-se a previs√£o suavizada exponencialmente ($F_t$); em seguida, calcula-se a estimativa suavizada exponencialmente da tend√™ncia ($T_t$); e, finalmente, combinam-se os dois para obter a previs√£o ajustada pela tend√™ncia ($TAES_t$) [^10].

> üí° **Exemplo Num√©rico:**
> Vamos usar um exemplo com uma pequena tend√™ncia crescente. Consideremos os dados de demanda: 150, 153, 157, 162, 165. Definimos valores iniciais: $TAES_1 = 150$ e $T_1 = 0$. Vamos usar $\alpha = 0.3$ e $\beta = 0.2$.
>
> $F_2 = 0.3 \times 150 + (1-0.3) \times 150 = 150$
>
> $T_2 = 0.2 \times (150-150) + (1-0.2) \times 0 = 0$
>
> $TAES_2 = 150 + 0 = 150$
>
> $F_3 = 0.3 \times 153 + (1-0.3) \times 150 = 45.9 + 105 = 150.9$
>
> $T_3 = 0.2 \times (150.9-150) + (1-0.2) \times 0 = 0.18$
>
> $TAES_3 = 150.9 + 0.18 = 151.08$
>
> $F_4 = 0.3 \times 157 + (1-0.3) \times 151.08 = 47.1 + 105.756 = 152.856$
>
> $T_4 = 0.2 \times (152.856-150.9) + (1-0.2) \times 0.18 = 0.3912 + 0.144 = 0.5352$
>
> $TAES_4 = 152.856 + 0.5352 = 153.3912$
>
> $F_5 = 0.3 \times 162 + (1-0.3) \times 153.3912 = 48.6 + 107.37384 = 155.97384$
>
> $T_5 = 0.2 \times (155.97384 - 152.856) + (1-0.2) \times 0.5352 =  0.623568 + 0.42816 = 1.051728$
>
> $TAES_5 = 155.97384 + 1.051728 = 157.025568$
>
> $F_6 = 0.3 \times 165 + (1-0.3) \times 157.025568 = 49.5 + 109.9178976 =  159.4178976$
>
> $T_6 = 0.2 * (159.4178976 - 155.97384) + (1-0.2) * 1.051728 = 0.68881152 + 0.8413824 = 1.53019392$
>
> $TAES_6 = 159.4178976 + 1.53019392= 160.94809152$
>
> A previs√£o para o 6¬∫ dia usando TAES com $\alpha = 0.3$ e $\beta = 0.2$ √© de aproximadamente 160.95.
> ```python
> import numpy as np
>
> def trend_adjusted_exponential_smoothing(data, alpha, beta):
>     f = np.zeros_like(data, dtype=float)
>     t = np.zeros_like(data, dtype=float)
>     taes = np.zeros_like(data, dtype=float)
>
>     taes[0] = data[0]
>     for i in range(1, len(data)):
>        f[i] = alpha * data[i-1] + (1 - alpha) * taes[i-1]
>        t[i] = beta * (f[i] - f[i-1] if i > 1 else f[i]- data[0]) + (1 - beta) * t[i-1] if i > 1 else beta * (f[i] - data[0])
>        taes[i] = f[i] + t[i]
>
>     return taes, f, t
>
> data = np.array([150, 153, 157, 162, 165],dtype=float)
> alpha = 0.3
> beta = 0.2
> taes_values, f_values, t_values = trend_adjusted_exponential_smoothing(data, alpha, beta)
> print(f"Valores TAES: {taes_values}")
> print(f"Previs√£o TAES para o dia 6: {alpha* data[-1] + (1-alpha)*taes_values[-1] + beta*(alpha* data[-1] + (1-alpha)*taes_values[-1] - f_values[-1]) + (1-beta)*(t_values[-1]) }")
>
> ```
> A sa√≠da do c√≥digo √©:
> ```
> Valores TAES: [150.         150.         151.08       153.3912     157.025568  ]
> Previs√£o TAES para o dia 6: 160.94809151999997
> ```

**Proposi√ß√£o 1** A equa√ß√£o da $F_t$ na TAES √©, na verdade, uma suaviza√ß√£o exponencial, mas usa a previs√£o ajustada pela tend√™ncia do per√≠odo anterior ($TAES_{t-1}$) ao inv√©s da previs√£o suavizada simples ($ES_{t-1}$).

*Demonstra√ß√£o:*
I. A equa√ß√£o de $F_t$ √© dada por:
   $$F_t = \alpha A_{t-1} + (1-\alpha) TAES_{t-1}$$
II. A equa√ß√£o de suaviza√ß√£o exponencial simples √©:
  $$ES_t = \alpha A_{t-1} + (1-\alpha) ES_{t-1}$$
III. Comparando as equa√ß√µes de I e II, observamos que a estrutura √© id√™ntica, com a diferen√ßa de que $F_t$ utiliza $TAES_{t-1}$ em vez de $ES_{t-1}$.
IV. Conclu√≠mos que $F_t$ √© uma suaviza√ß√£o exponencial aplicada ao valor da demanda anterior, mas utiliza a previs√£o ajustada pela tend√™ncia no per√≠odo anterior.
‚ñ†

#### Proje√ß√µes de Tend√™ncia Linear (*Linear Trend Projections*)
Quando h√° uma tend√™ncia clara nos dados, as **proje√ß√µes de tend√™ncia linear** podem ser usadas. Esta t√©cnica ajusta uma linha de tend√™ncia aos dados hist√≥ricos e projeta essa linha para o futuro. A linha √© ajustada usando o m√©todo dos m√≠nimos quadrados, que minimiza a soma dos quadrados das diferen√ßas entre os dados reais e a linha. A equa√ß√£o da linha de regress√£o √© dada por:

$$\hat{y} = a + bx$$

onde:
- $\hat{y}$ √© o valor previsto da demanda.
- $a$ √© o intercepto do eixo y.
- $b$ √© a inclina√ß√£o da linha.
- $x$ √© o valor da vari√°vel independente, que, neste caso, √© o per√≠odo de tempo [^11].

Os coeficientes $a$ e $b$ s√£o calculados usando as seguintes f√≥rmulas:

$$a = \bar{y} - b\bar{x}$$

$$b = \frac{\sum{xy} - n\bar{x}\bar{y}}{\sum{x^2} - n\bar{x}^2}$$

onde:
- $\bar{x}$ e $\bar{y}$ s√£o as m√©dias dos valores de x e y, respectivamente.
- n √© o n√∫mero de pontos de dados.

Essa t√©cnica permite que se preveja a demanda em per√≠odos futuros, diferentemente de outros m√©todos, onde se usa apenas um per√≠odo para calcular o per√≠odo seguinte.

> üí° **Exemplo Num√©rico:**
>  Usando os dados de demanda: 150, 153, 157, 162, 165, onde o tempo (x) √© 1, 2, 3, 4 e 5, respectivamente.
>
> 1. Calcular as m√©dias:
>  $\bar{x} = (1+2+3+4+5)/5 = 3$
>  $\bar{y} = (150+153+157+162+165)/5 = 157.4$
>
> 2. Calcular $\sum{xy}$:
>  $(1*150) + (2*153) + (3*157) + (4*162) + (5*165) = 150 + 306 + 471 + 648 + 825 = 2400$
>
> 3. Calcular $\sum{x^2}$:
>  $1^2 + 2^2 + 3^2 + 4^2 + 5^2 = 1 + 4 + 9 + 16 + 25 = 55$
>
> 4. Calcular *b*:
>  $b = (2400 - 5 * 3 * 157.4) / (55 - 5 * 3^2) = (2400 - 2361) / (55 - 45) = 39 / 10 = 3.9$
>
> 5. Calcular *a*:
>  $a = 157.4 - 3.9 * 3 = 157.4 - 11.7 = 145.7$
>
> A equa√ß√£o da linha de tend√™ncia √© $\hat{y} = 145.7 + 3.9x$. Para prever a demanda no per√≠odo 6, substitu√≠mos x por 6:
>  $\hat{y}_6 = 145.7 + 3.9 * 6 = 145.7 + 23.4 = 169.1$
> A previs√£o de demanda para o sexto per√≠odo √© 169.1.
> ```python
> import numpy as np
> from sklearn.linear_model import LinearRegression
>
> x = np.array([1, 2, 3, 4, 5]).reshape((-1, 1))
> y = np.array([150, 153, 157, 162, 165])
>
> model = LinearRegression()
> model.fit(x, y)
>
> a = model.intercept_
> b = model.coef_[0]
> print(f"Intercepto a: {a}")
> print(f"Inclina√ß√£o b: {b}")
>
> x_future = np.array([6]).reshape((-1, 1))
> y_future = model.predict(x_future)
> print(f"Previs√£o para o per√≠odo 6: {y_future[0]}")
> ```
> A sa√≠da do c√≥digo √©:
> ```
> Intercepto a: 145.7
> Inclina√ß√£o b: 3.9
> Previs√£o para o per√≠odo 6: 169.1
> ```

**Teorema 1:** O m√©todo dos m√≠nimos quadrados garante que a soma dos erros quadr√°ticos entre os valores observados e os valores previstos pela linha de regress√£o seja minimizada.
*Demonstra√ß√£o:*
I. O objetivo do m√©todo dos m√≠nimos quadrados √© encontrar os valores de $a$ e $b$ que minimizem a soma dos quadrados dos erros (SSE), que √© definida como:
$$SSE = \sum_{i=1}^n (y_i - \hat{y}_i)^2$$
Onde $y_i$ s√£o os valores observados e $\hat{y}_i = a + bx_i$ s√£o os valores previstos pela linha de regress√£o.

II. Para encontrar os valores de $a$ e $b$ que minimizam $SSE$, precisamos calcular as derivadas parciais de $SSE$ em rela√ß√£o a $a$ e $b$, e igual√°-las a zero:
$$\frac{\partial SSE}{\partial a} = -2 \sum_{i=1}^n (y_i - a - bx_i) = 0$$
$$\frac{\partial SSE}{\partial b} = -2 \sum_{i=1}^n x_i(y_i - a - bx_i) = 0$$

III. Simplificando as equa√ß√µes, obtemos:
$$\sum_{i=1}^n y_i = na + b\sum_{i=1}^n x_i$$
$$\sum_{i=1}^n x_i y_i = a\sum_{i=1}^n x_i + b\sum_{i=1}^n x_i^2$$

IV. Resolvendo este sistema de equa√ß√µes lineares para $a$ e $b$, encontramos as seguintes f√≥rmulas:
$$a = \bar{y} - b\bar{x}$$
$$b = \frac{\sum{xy} - n\bar{x}\bar{y}}{\sum{x^2} - n\bar{x}^2}$$

V. Portanto, ao usar essas f√≥rmulas para calcular $a$ e $b$, garantimos que a $SSE$ seja minimizada, o que significa que a linha de regress√£o √© a que melhor se ajusta aos dados, no sentido de m√≠nimos quadrados.
‚ñ†

#### Incorporando Sazonalidade
Para incorporar a sazonalidade aos modelos de previs√£o, √© necess√°rio calcular os **√≠ndices sazonais**. Os √≠ndices sazonais indicam quanto a demanda em um per√≠odo espec√≠fico difere da demanda m√©dia.  A f√≥rmula para os √≠ndices sazonais, como descrito em [^13], √© baseada em tr√™s etapas:

1.  Calcular a demanda m√©dia para cada esta√ß√£o.
2.  Calcular a demanda m√©dia geral.
3.  Dividir a demanda m√©dia por esta√ß√£o pela demanda m√©dia geral [^13].

Para fazer uma previs√£o, o √≠ndice sazonal do per√≠odo desejado √© multiplicado pela previs√£o da demanda m√©dia. Uma vez que os √≠ndices sazonais s√£o um percentual da demanda m√©dia, se faz necess√°rio um modelo que prediga os valores da m√©dia.

> üí° **Exemplo Num√©rico:**
> Suponha que temos dados de demanda trimestral para os √∫ltimos dois anos (8 trimestres):
>
> | Trimestre | Ano 1 | Ano 2 |
> |-----------|-------|-------|
> |     1     |   80  |  95   |
> |     2     |  120  | 130   |
> |     3     |  110  | 125   |
> |     4     |   90  | 100   |
>
> 1.  Calcular a demanda m√©dia para cada trimestre:
>  - Trimestre 1: $(80+95)/2 = 87.5$
>  - Trimestre 2: $(120+130)/2 = 125$
>  - Trimestre 3: $(110+125)/2 = 117.5$
>  - Trimestre 4: $(90+100)/2 = 95$
>
> 2.  Calcular a demanda m√©dia geral:
>  - $(80+120+110+90+95+130+125+100)/8 = 850/8 = 106.25$
>
> 3.  Calcular os √≠ndices sazonais:
>  - Trimestre 1: $87.5 / 106.25 = 0.8235$
>  - Trimestre 2: $125 / 106.25 = 1.1765$
>  - Trimestre 3: $117.5 / 106.25 = 1.1059$
>  - Trimestre 4: $95 / 106.25 = 0.8941$
>
> Para o pr√≥ximo ano, se a previs√£o da demanda m√©dia for 110, as previs√µes ajustadas por sazonalidade seriam:
> - Trimestre 1: $110 * 0.8235 \approx 90.59$
> - Trimestre 2: $110 * 1.1765 \approx 129.42$
> - Trimestre 3: $110 * 1.1059 \approx 121.65$
> - Trimestre 4: $110 * 0.8941 \approx 98.35$

#### Decompondo uma S√©rie Temporal Usando Regress√£o de M√≠nimos Quadrados
Quando existe tend√™ncia, √© comum primeiro decompor a s√©rie temporal nos seus componentes e depois prever os valores futuros de cada componente. Os passos envolvidos s√£o:
1. Calcular os √≠ndices sazonais
2. Deseasonalizar a demanda, dividindo cada ponto de dados pelo √≠ndice sazonal apropriado
3. Desenvolver uma equa√ß√£o de regress√£o para os dados deseasonalizados. Os n√∫meros dos per√≠odos s√£o a vari√°vel independente e a demanda √© a dependente.
4. Projetar a demanda futura usando a equa√ß√£o de regress√£o
5. Multiplicar as proje√ß√µes da etapa 4 pelos respectivos √≠ndices sazonais [^14].

> üí° **Exemplo Num√©rico:**
>  Vamos usar os dados de demanda trimestral dos dois √∫ltimos anos (j√° usados no exemplo anterior), com os √≠ndices sazonais j√° calculados (0.8235, 1.1765, 1.1059, 0.8941).
>
> | Trimestre | Ano 1 | Ano 2 | √çndice Sazonal | Deseasonalizado Ano 1 | Deseasonalizado Ano 2 |
> |-----------|-------|-------|-----------------|-----------------------|-----------------------|
> |     1     |   80  |  95   |     0.8235      |      97.14            |        115.36           |
> |     2     |  120  | 130   |     1.1765      |      102.00           |        110.50           |
> |     3     |  110  | 125   |     1.1353      |      96.99           |        115.00           |
> |     4     |  115  | 125   |     1.0870      |      98.26           |        106.80           |
> |     5     |  100  | 115   |     1.1500      |      99.43           |        113.61           |

*   **An√°lise:** A tabela acima apresenta um conjunto de cinco cen√°rios distintos, onde para cada cen√°rio, s√£o especificados dois valores de *P* (P_1 e P_2) representando diferentes configura√ß√µes ou par√¢metros. Al√©m disso, a tabela fornece o valor de *r* associado a cada par (P_1, P_2), o valor de *E_1*, e o valor de *E_2*. A raz√£o *r* √© calculada como P_2/P_1, e, com isso, s√£o calculados os valores de *E_1* e *E_2* associados ao cen√°rio.

### 3.2.1 Defini√ß√µes e Rela√ß√µes

*   **Defini√ß√£o de P:** Em nosso contexto, P representa um par√¢metro ou uma configura√ß√£o do sistema que pode influenciar o comportamento ou o resultado de um determinado processo. No exemplo apresentado, P_1 e P_2 denotam dois valores distintos desse par√¢metro.
*   **Defini√ß√£o de r:** A raz√£o r √© definida como o quociente entre dois valores de P, especificamente, r = P_2 / P_1. Essa raz√£o √© uma medida de rela√ß√£o entre esses dois par√¢metros. Um valor de r > 1 indica que P_2 √© maior que P_1, enquanto um valor de r < 1 indica o oposto.
*   **Defini√ß√£o de E:** E representa um valor que depende da configura√ß√£o de P e da rela√ß√£o r. Na tabela, E_1 e E_2 s√£o valores que correspondem a cada par (P_1, P_2).

### 3.2.2 Interpreta√ß√£o dos Resultados

1.  **Cen√°rio 1:** Nesse cen√°rio, temos uma raz√£o r de 1.1765, o que significa que P_2 √© 17,65% maior que P_1. Os valores de E_1 e E_2 s√£o 113.18 e 102.31, respectivamente.
2.  **Cen√°rio 2:** Aqui, r √© igual a 1.1765, e os valores de E_1 e E_2 s√£o 102.00 e 110.50.
3.  **Cen√°rio 3:** Neste cen√°rio, r √© 1.1353, os valores de E_1 e E_2 s√£o 96.99 e 115.00.
4.  **Cen√°rio 4:** O valor de r √© 1.0870, os valores de E_1 e E_2 s√£o 98.26 e 106.80.
5.  **Cen√°rio 5:** No √∫ltimo cen√°rio, r √© 1.1500, e os valores de E_1 e E_2 s√£o 99.43 e 113.61.

*An√°lise Geral:*

*   **Rela√ß√£o entre r e E:** N√£o existe uma rela√ß√£o direta clara entre o valor de r e os valores de E_1 e E_2. Em alguns casos, mesmo com raz√µes *r* semelhantes, os valores de *E_1* e *E_2* podem variar significativamente.
*   **Comportamento de E:** Os valores de *E_1* e *E_2* flutuam de cen√°rio para cen√°rio, sem mostrar uma tend√™ncia constante. Isso sugere que a rela√ß√£o entre P e E pode ser n√£o linear e possivelmente influenciada por outros fatores n√£o apresentados na tabela.

### 3.2.3 Diagrama de Rela√ß√µes

```mermaid
graph LR
    P1(P1) --> r(r = P2/P1)
    P2(P2) --> r
    r --> E1(E1)
    r --> E2(E2)
    P1 --> E1
    P1 --> E2
    P2 --> E1
    P2 --> E2

    style P1 fill:#f9f,stroke:#333,stroke-width:2px
    style P2 fill:#f9f,stroke:#333,stroke-width:2px
    style E1 fill:#ccf,stroke:#333,stroke-width:2px
    style E2 fill:#ccf,stroke:#333,stroke-width:2px
    style r fill:#aaf,stroke:#333,stroke-width:2px
```

*Descri√ß√£o do Diagrama:* O diagrama acima ilustra as rela√ß√µes entre as vari√°veis P_1, P_2, r, E_1 e E_2. P_1 e P_2 s√£o par√¢metros que influenciam diretamente o c√°lculo de r. Tanto r quanto os par√¢metros P_1 e P_2 influenciam os valores de E_1 e E_2.

### 3.2.4 Pr√≥ximos Passos

Para uma an√°lise mais aprofundada, seria necess√°rio:
*   **Contexto:** Entender o contexto espec√≠fico de onde os dados foram obtidos.
*   **Fun√ß√µes:** Conhecer as fun√ß√µes ou modelos que relacionam P com E.
*   **Outras Vari√°veis:** Investigar se h√° outras vari√°veis que influenciam E.

<!-- END -->
