## Decomposi√ß√£o de S√©ries Temporais com Regress√£o por M√≠nimos Quadrados e √çndices Sazonais

### Introdu√ß√£o
Este cap√≠tulo aborda a decomposi√ß√£o de *s√©ries temporais* que exibem tanto **tend√™ncia** quanto **sazonalidade**. Expandindo sobre os conceitos de **√≠ndices sazonais**, *deseasonaliza√ß√£o* e modelos de regress√£o por m√≠nimos quadrados (MQ), este cap√≠tulo detalha como combinar essas ferramentas para criar proje√ß√µes de demanda mais precisas. A √™nfase recai sobre o uso da regress√£o por m√≠nimos quadrados para modelar a tend√™ncia, ajustando-a com os √≠ndices sazonais para contabilizar os padr√µes sazonais. Esta abordagem de decomposi√ß√£o de s√©ries temporais permite uma an√°lise mais detalhada e uma previs√£o mais precisa em s√©ries que exibem tanto um movimento de longo prazo quanto flutua√ß√µes regulares.

### Decomposi√ß√£o de S√©ries Temporais: Tend√™ncia e Sazonalidade
Como discutido nos cap√≠tulos anteriores, as s√©ries temporais podem ser decompostas em componentes como tend√™ncia, ciclo, sazonalidade e varia√ß√µes aleat√≥rias [^59]. A sazonalidade se manifesta como padr√µes repetitivos em intervalos regulares, enquanto a tend√™ncia indica o movimento geral de longo prazo da s√©rie [^59, 60]. Quando ambos os componentes est√£o presentes, uma abordagem mais sofisticada √© necess√°ria para modelar e prever a demanda.

A combina√ß√£o da **regress√£o por m√≠nimos quadrados** (MQ) com **√≠ndices sazonais** oferece uma ferramenta para analisar s√©ries temporais com tend√™ncia e sazonalidade [^75]. Esta abordagem envolve modelar a tend√™ncia por meio de uma regress√£o linear e ajustar essa tend√™ncia com √≠ndices sazonais [^75]. As etapas geralmente incluem:
1.  **C√°lculo dos √çndices Sazonais:** Determinar a magnitude da varia√ß√£o sazonal para cada per√≠odo [^75]. Este passo quantifica a varia√ß√£o da demanda em cada per√≠odo sazonal (por exemplo, meses em um ano) expressa como uma porcentagem da m√©dia geral ou como um valor adicional/subtrativo, dependendo se o modelo √© multiplicativo ou aditivo [^74].
2.  **Deseasonaliza√ß√£o da S√©rie Temporal:** Ajustar os dados originais pela sazonalidade. Para modelos multiplicativos, a deseasonaliza√ß√£o envolve a divis√£o dos dados pelos √≠ndices sazonais [^74]. Para modelos aditivos, ela envolve a subtra√ß√£o dos √≠ndices sazonais [Lema 1.1, Lema 1.2]. Este passo permite isolar outros componentes da s√©rie, como a tend√™ncia.
3.  **Ajuste da Tend√™ncia por Regress√£o MQ:** Modelar a tend√™ncia dos dados *deseasonalizados* usando a regress√£o por m√≠nimos quadrados. Este passo envolve o ajuste de uma linha ou curva de tend√™ncia aos dados *deseasonalizados*. A regress√£o por m√≠nimos quadrados encontra a reta que minimiza a soma dos quadrados dos erros entre os valores observados e a reta.
4.  **Proje√ß√£o e Ajuste da Sazonalidade:** Projetar os valores futuros de acordo com a tend√™ncia estabelecida. Esses valores s√£o ent√£o ajustados pela sazonalidade, multiplicando-os (modelo multiplicativo) ou adicionando-os (modelo aditivo) aos seus √≠ndices sazonais correspondentes.

> üí° **Exemplo Num√©rico:** Suponha que temos dados trimestrais de vendas de uma loja de roupas por tr√™s anos e queremos projetar as vendas para o quarto ano. Digamos que j√° calculamos os √≠ndices sazonais: Trimestre 1: 0.8; Trimestre 2: 1.2; Trimestre 3: 1.1; Trimestre 4: 0.9 (modelo multiplicativo). Tamb√©m j√° *deseasonalizamos* os dados. Ap√≥s aplicar a regress√£o por MQ aos dados *deseasonalizados*, obtemos a seguinte linha de tend√™ncia: $T_t = 100 + 5t$, onde $t$ √© o n√∫mero do trimestre.
>
> Para projetar as vendas do primeiro trimestre do quarto ano (trimestre 13), primeiro calculamos a tend√™ncia: $T_{13} = 100 + 5 \times 13 = 165$. A proje√ß√£o ajustada pela sazonalidade ser√°: $165 \times 0.8 = 132$. Para o segundo trimestre do quarto ano (trimestre 14), temos: $T_{14} = 100 + 5 \times 14 = 170$ e a proje√ß√£o ajustada ser√° $170 \times 1.2 = 204$.

> üí° **Exemplo Num√©rico:** Vamos detalhar o processo de c√°lculo dos √≠ndices sazonais e *deseasonaliza√ß√£o* com dados reais. Considere as vendas trimestrais de uma loja de eletr√¥nicos nos √∫ltimos tr√™s anos (em milhares de reais):
>
> | Trimestre | Ano 1 | Ano 2 | Ano 3 |
> |-----------|-------|-------|-------|
> | 1         | 25    | 30    | 36    |
> | 2         | 40    | 48    | 55    |
> | 3         | 35    | 42    | 49    |
> | 4         | 20    | 24    | 28    |
>
> **Passo 1: Calcular as m√©dias trimestrais para cada ano:**
>
> *   Ano 1: M√©dia = (25 + 40 + 35 + 20) / 4 = 30
> *   Ano 2: M√©dia = (30 + 48 + 42 + 24) / 4 = 36
> *   Ano 3: M√©dia = (36 + 55 + 49 + 28) / 4 = 42
>
> **Passo 2: Calcular os √≠ndices sazonais para cada trimestre:**
>
> *   Trimestre 1: (25/30 + 30/36 + 36/42) / 3 ‚âà 0.83 + 0.83 + 0.86 = 2.52 / 3 = 0.84
> *   Trimestre 2: (40/30 + 48/36 + 55/42) / 3 ‚âà 1.33 + 1.33 + 1.31 = 3.97 / 3 = 1.32
> *   Trimestre 3: (35/30 + 42/36 + 49/42) / 3 ‚âà 1.17 + 1.17 + 1.17 = 3.51 / 3 = 1.17
> *   Trimestre 4: (20/30 + 24/36 + 28/42) / 3 ‚âà 0.67 + 0.67 + 0.67 = 2.01 / 3 = 0.67
>
> **Passo 3: Deseasonalizar os dados (modelo multiplicativo):** Dividimos cada valor original pelo √≠ndice sazonal correspondente:
>
> | Trimestre | Ano 1 (Deseasonalizado) | Ano 2 (Deseasonalizado) | Ano 3 (Deseasonalizado) |
> |-----------|------------------------|------------------------|------------------------|
> | 1         | 25 / 0.84 ‚âà 29.76     | 30 / 0.84 ‚âà 35.71     | 36 / 0.84 ‚âà 42.86    |
> | 2         | 40 / 1.32 ‚âà 30.30     | 48 / 1.32 ‚âà 36.36     | 55 / 1.32 ‚âà 41.67    |
> | 3         | 35 / 1.17 ‚âà 29.91     | 42 / 1.17 ‚âà 35.90     | 49 / 1.17 ‚âà 41.88    |
> | 4         | 20 / 0.67 ‚âà 29.85     | 24 / 0.67 ‚âà 35.82     | 28 / 0.67 ‚âà 41.79    |
>
> Agora podemos aplicar a regress√£o por m√≠nimos quadrados nos dados *deseasonalizados* para encontrar a linha de tend√™ncia.

#### Modelos Multiplicativos e Aditivos: Uma Revis√£o
Em um modelo *multiplicativo*, a varia√ß√£o sazonal √© expressa como um percentual da tend√™ncia, o que significa que as flutua√ß√µes sazonais se tornam maiores √† medida que a tend√™ncia aumenta [^74, Lema 1.2]. O valor observado √© obtido multiplicando a tend√™ncia pelo √≠ndice sazonal.
Por outro lado, em um modelo *aditivo*, a varia√ß√£o sazonal √© expressa como um valor constante que √© adicionado ou subtra√≠do da tend√™ncia [^74, Lema 1.1]. Este modelo assume que a magnitude da varia√ß√£o sazonal √© independente do n√≠vel da tend√™ncia. A escolha entre um modelo aditivo e multiplicativo depende da natureza dos dados e do comportamento da sazonalidade [^74]. Em muitas situa√ß√µes, um modelo multiplicativo √© mais apropriado para dados de neg√≥cios, pois as varia√ß√µes sazonais tendem a ser proporcionais √† m√©dia [^74].

> üí° **Exemplo Num√©rico:** Considere os dados da loja de eletr√¥nicos no exemplo anterior. Se observarmos que as flutua√ß√µes sazonais, no primeiro trimestre por exemplo, aumentam em valor absoluto com o tempo (a diferen√ßa entre a m√©dia trimestral e os dados de cada ano aumenta), um modelo multiplicativo pode ser mais adequado. Se, em vez disso, as flutua√ß√µes sazonais permanecessem relativamente constantes ao longo do tempo (com valores similares acima e abaixo da m√©dia anual), um modelo aditivo seria mais apropriado. Vamos usar os dados para o ano 1 e criar exemplos para ilustrar a diferen√ßa:
>
> **Modelo Multiplicativo:**
>
> *   Tend√™ncia (M√©dia Anual) = 30
> *   √çndice Sazonal (Trimestre 1) = 0.83
> *   Previs√£o Sazonal = 30 * 0.83 = 24.9 (aproximadamente o valor observado de 25).
>
> **Modelo Aditivo:**
>
> *   Tend√™ncia (M√©dia Anual) = 30
> *   Ajuste Sazonal (Trimestre 1) = 25 - 30 = -5
> *  Previs√£o Sazonal = 30 - 5 = 25 (exatamente o valor observado).
>
> Observe que o modelo aditivo usa a diferen√ßa para ajustar a m√©dia, enquanto o multiplicativo usa a raz√£o. Se o valor do Trimestre 1 fosse 50 no terceiro ano, o modelo multiplicativo projetaria 42 * 0.83 = 34.86 enquanto o aditivo projetaria 42-5 = 37. A decis√£o entre aditivo e multiplicativo depende de qual padr√£o melhor descreve o comportamento da s√©rie.

#### O Papel da Regress√£o por M√≠nimos Quadrados
A regress√£o por m√≠nimos quadrados √© uma t√©cnica estat√≠stica utilizada para modelar a rela√ß√£o entre uma vari√°vel dependente (neste caso, os dados *deseasonalizados*) e uma ou mais vari√°veis independentes (geralmente o tempo) [Teorema 2]. O objetivo √© encontrar a linha ou curva que melhor se ajusta aos dados, minimizando a soma dos quadrados dos erros entre os valores observados e os valores previstos pelo modelo [Teorema 2].

No contexto da decomposi√ß√£o de s√©ries temporais, a regress√£o por m√≠nimos quadrados √© usada para modelar a componente de tend√™ncia dos dados *deseasonalizados* [Teorema 2]. Uma vez estimada a tend√™ncia, os √≠ndices sazonais s√£o utilizados para ajustar as previs√µes futuras, levando em considera√ß√£o a sazonalidade [^75].

**Teorema 3.1** O erro quadr√°tico m√©dio (MSE) da regress√£o por m√≠nimos quadrados nos dados *deseasonalizados* √© menor ou igual ao MSE da aplica√ß√£o direta de regress√£o aos dados originais (n√£o *deseasonalizados*), dado que o modelo da tend√™ncia √© aditivo em rela√ß√£o ao efeito sazonal.
*Prova:*
Seja $y_t$ o valor observado no tempo $t$, $S_t$ o √≠ndice sazonal e $T_t$ a tend√™ncia. Para o modelo aditivo, temos $y_t = T_t + S_t + \epsilon_t$. Se aplicarmos regress√£o MQ diretamente aos dados originais, podemos obter uma tend√™ncia $\hat{T}_t$, onde o erro da previs√£o √© $e_t = y_t - \hat{T}_t = T_t - \hat{T}_t + S_t + \epsilon_t$. O erro m√©dio quadr√°tico, $MSE_{direto}$, sera proporcional a $\sum (e_t)^2 = \sum (T_t - \hat{T}_t + S_t + \epsilon_t)^2$. Agora, *deseasonalizamos* os dados: $y_t^{des} = y_t - S_t = T_t + \epsilon_t$.  Aplicamos MQ aos dados *deseasonalizados* obtendo $\hat{T_t}$, sendo o erro associado $e_t^{des} = y_t^{des} - \hat{T}_t= T_t - \hat{T}_t + \epsilon_t$, logo $MSE_{deseasonalizado}$ sera proporcional a $\sum (e_t^{des})^2 = \sum (T_t - \hat{T}_t + \epsilon_t)^2$. A diferen√ßa entre os erros √© a presen√ßa do termo sazonal $S_t$. Como a regress√£o linear minimiza a soma dos quadrados dos erros, a introdu√ß√£o de um componente n√£o modelado, $S_t$, aumenta o MSE. Se a forma funcional da sazonalidade √© corretamente incorporada, a regress√£o nos dados *deseasonalizados* deve apresentar um ajuste melhor (menor erro quadr√°tico). Portanto, a regress√£o por m√≠nimos quadrados nos dados *deseasonalizados* produz um MSE menor ou igual ao da regress√£o direta. $\blacksquare$

> üí° **Exemplo Num√©rico:** Vamos usar os dados *deseasonalizados* da loja de eletr√¥nicos para demonstrar o Teorema 3.1.
>
>  Primeiro, vamos aplicar uma regress√£o linear diretamente aos dados originais (sem *deseasonalizar*) usando o tempo (trimestre) como vari√°vel independente. Para simplificar, usaremos apenas os primeiros 8 trimestres (dois primeiros anos). A regress√£o linear nos dar√° uma estimativa da tend√™ncia.
> ```python
> import numpy as np
> from sklearn.linear_model import LinearRegression
>
> # Dados originais (2 primeiros anos)
> y_original = np.array([25, 40, 35, 20, 30, 48, 42, 24])
> # Vari√°vel tempo (trimestres)
> X = np.array(range(1, 9)).reshape(-1, 1)
>
> # Ajustar o modelo de regress√£o linear
> model_original = LinearRegression()
> model_original.fit(X, y_original)
> y_predicted_original = model_original.predict(X)
>
> # Calcular o MSE
> mse_original = np.mean((y_original - y_predicted_original)**2)
>
> print(f"MSE da regress√£o nos dados originais: {mse_original:.2f}")
>
> # Dados deseasonalizados (2 primeiros anos)
> y_deseasonalized = np.array([29.76, 30.30, 29.91, 29.85, 35.71, 36.36, 35.90, 35.82])
>
> # Ajustar o modelo de regress√£o linear
> model_deseasonalized = LinearRegression()
>model_deseasonalized.fit(X, y_deseasonalized)
> y_predicted_deseasonalized = model_deseasonalized.predict(X)
> # Calcular o MSE
> mse_deseasonalized = np.mean((y_deseasonalized - y_predicted_deseasonalized)**2)
> print(f"MSE da regress√£o nos dados deseasonalizados: {mse_deseasonalized:.2f}")
> ```
>
> Os resultados mostram que o MSE nos dados *deseasonalizados* √© menor que o MSE nos dados originais, validando o Teorema 3.1. Isto ocorre porque removemos parte da vari√¢ncia dos dados ao retirar o componente sazonal antes de modelar a tend√™ncia. Os valores dos MSE ser√£o diferentes dependendo dos dados espec√≠ficos usados, mas o princ√≠pio se mant√©m.

**Teorema 3.2** A aplica√ß√£o da regress√£o por m√≠nimos quadrados aos dados *deseasonalizados*, seguida pelo ajuste das previs√µes com √≠ndices sazonais, pode ser expressa como um modelo linear generalizado com vari√°veis *dummy* que incluem tanto a tend√™ncia quanto a sazonalidade.
*Prova:*
Seja $y_t$ o valor observado no tempo $t$ e $x_t$ a vari√°vel independente, como o tempo. Temos tamb√©m $n$ per√≠odos sazonais e suas vari√°veis *dummy* $D_{1,t}, \dots, D_{n,t}$.
Em um modelo aditivo, *deseasonalizamos* os dados para obter  $y_t^{des} = y_t - S_t$. Aplicamos MQ nesses dados para modelar a tend√™ncia, ou seja, $\hat{y}_t^{des} = \beta_0 + \beta_1 x_t$.  Finalmente, ajustamos a previs√£o adicionando a sazonalidade: $\hat{y}_t =  \beta_0 + \beta_1 x_t + S_t$ que pode ser expresso como $y_t = \beta_0 + \beta_1 x_t + \sum_{i=1}^{n} \alpha_i D_{i,t} + \epsilon_t$.
Em um modelo multiplicativo, *deseasonalizamos* os dados para obter $y_t^{des} = \frac{y_t}{S_t}$. Aplicamos MQ nesses dados para modelar a tend√™ncia, ou seja, $\hat{y}_t^{des} = \beta_0 + \beta_1 x_t$. Finalmente, ajustamos a previs√£o multiplicando pela sazonalidade: $\hat{y}_t = (\beta_0 + \beta_1 x_t) \times S_t$. Este processo pode ser expresso diretamente com vari√°veis *dummy* como $y_t = (\beta_0 + \beta_1 x_t) \times (1 + \sum_{i=1}^{n} \alpha_i D_{i,t}) \times \epsilon_t$ (aproximadamente).
Este resultado demonstra formalmente que a combina√ß√£o de regress√£o por m√≠nimos quadrados com ajuste sazonal √© equivalente a um modelo de regress√£o mais abrangente.
I.  Definimos $y_t$ como o valor observado no tempo $t$ e $x_t$ como a vari√°vel independente (tempo).

II.  Consideramos $n$ per√≠odos sazonais e suas vari√°veis *dummy* $D_{1,t}, \dots, D_{n,t}$.

III.  Em um modelo aditivo, *deseasonalizamos* os dados, resultando em  $y_t^{des} = y_t - S_t$.

IV. Aplicamos regress√£o MQ para modelar a tend√™ncia: $\hat{y}_t^{des} = \beta_0 + \beta_1 x_t$.

V.  Ajustamos a previs√£o com sazonalidade: $\hat{y}_t = \hat{y}_t^{des} + S_t$ que √© equivalente a $y_t = \beta_0 + \beta_1 x_t + \sum_{i=1}^{n} \alpha_i D_{i,t} + \epsilon_t$, onde $\alpha_i$ s√£o os efeitos da sazonalidade.

VI.  Em um modelo multiplicativo, *deseasonalizamos* os dados: $y_t^{des} = \frac{y_t}{S_t}$.

VII. Aplicamos regress√£o MQ para modelar a tend√™ncia: $\hat{y}_t^{des} = \beta_0 + \beta_1 x_t$.

VIII. Ajustamos a previs√£o com sazonalidade: $\hat{y}_t = (\beta_0 + \beta_1 x_t) \times S_t$.

IX. O modelo multiplicativo pode ser expresso com vari√°veis *dummy* como $y_t = (\beta_0 + \beta_1 x_t) \times (1 + \sum_{i=1}^{n} \alpha_i D_{i,t}) \times \epsilon_t$ (aproximadamente).
Portanto, podemos concluir que a combina√ß√£o de regress√£o por m√≠nimos quadrados e ajuste sazonal √© formalmente equivalente a um modelo de regress√£o que incorpora tanto a tend√™ncia quanto a sazonalidade por meio de vari√°veis *dummy*. $\blacksquare$

> üí° **Exemplo Num√©rico:** Vamos mostrar como o modelo de regress√£o com vari√°veis *dummy* pode representar o mesmo que o modelo de decomposi√ß√£o de s√©ries temporais. Usando os dados da loja de eletr√¥nicos dos dois primeiros anos, vamos construir um modelo linear que inclua a vari√°vel tempo e vari√°veis *dummy* para cada trimestre.
>
> ```python
> import numpy as np
> import pandas as pd
> from sklearn.linear_model import LinearRegression
>
> # Dados originais (2 primeiros anos)
> data = {
>    'Sales': [25, 40, 35, 20, 30, 48, 42, 24],
>    'Time': range(1, 9),
>    'Quarter': [1, 2, 3, 4, 1, 2, 3, 4]
> }
> df = pd.DataFrame(data)
>
> # Criar vari√°veis dummy para os trimestres
> df = pd.get_dummies(df, columns=['Quarter'], drop_first=True)
>
> # Vari√°veis independentes (Tempo e Trimestres)
> X_dummy = df[['Time', 'Quarter_2', 'Quarter_3', 'Quarter_4']]
>
> # Vari√°vel dependente (Vendas)
> y_dummy = df['Sales']
>
> # Ajustar o modelo de regress√£o linear
> model_dummy = LinearRegression()
> model_dummy.fit(X_dummy, y_dummy)
>
> # Imprimir os coeficientes do modelo
> print("Coeficientes do modelo com vari√°veis dummy:", model_dummy.coef_)
> print("Intercepto do modelo com vari√°veis dummy:", model_dummy.intercept_)
>
> #Fazer previs√µes com o modelo
> predictions = model_dummy.predict(X_dummy)
>
> #Para comparar, vamos usar os modelos anteriores de deseasonaliza√ß√£o
> y_deseasonalized = np.array([29.76, 30.30, 29.91, 29.85, 35.71, 36.36, 35.90, 35.82])
>
> # Ajustar o modelo de regress√£o linear aos dados deseasonalizados
> model_deseasonalized = LinearRegression()
> X = np.array(range(1, 9)).reshape(-1, 1)
>model_deseasonalized.fit(X, y_deseasonalized)
> y_predicted_deseasonalized = model_deseasonalized.predict(X)
>
> #indices sazonais
> seasonal_indices = [0.84, 1.32, 1.17, 0.67]
>
> #projetar dados
> predicted_values_deseasonalized = []
> for i, time in enumerate (range(1,9)):
>   predicted_trend = model_deseasonalized.predict(np.array(time).reshape(-1, 1))
>   predicted_values_deseasonalized.append(predicted_trend[0] * seasonal_indices[(i%4)])
>
> # Comparar previs√µes
> print("Previs√µes com vari√°veis dummy:", predictions)
> print("Previs√µes com deseasonaliza√ß√£o:", predicted_values_deseasonalized)
> ```
>
> Este exemplo mostra como o modelo com vari√°veis *dummy* e o modelo de regress√£o com *deseasonaliza√ß√£o* e √≠ndices sazonais produzem resultados equivalentes. Os coeficientes do modelo com *dummy* refletem tanto a tend√™ncia quanto os efeitos sazonais, enquanto o modelo de *deseasonaliza√ß√£o* separa esses efeitos.

#### Proje√ß√£o de Demanda para M√∫ltiplos Per√≠odos
Para realizar proje√ß√µes de demanda para m√∫ltiplos per√≠odos, como demonstrado no exemplo num√©rico inicial deste cap√≠tulo, o processo envolve:
1. Calcular a tend√™ncia projetada por meio da regress√£o por m√≠nimos quadrados para cada per√≠odo futuro desejado.
2.  Multiplicar (modelo multiplicativo) ou adicionar (modelo aditivo) os valores da tend√™ncia pelos seus √≠ndices sazonais correspondentes.
**Lema 3.1** Em modelos aditivos, a vari√¢ncia da previs√£o para m√∫ltiplos per√≠odos aumenta linearmente com o n√∫mero de per√≠odos, assumindo que os erros de cada per√≠odo s√£o independentes e identicamente distribu√≠dos.
*Prova:*
Seja $\hat{y}_t = \hat{T}_t + S_t$ a previs√£o no per√≠odo $t$, onde $\hat{T}_t$ √© a estimativa da tend√™ncia obtida por regress√£o e $S_t$ √© o √≠ndice sazonal. Assumindo que o erro de previs√£o no per√≠odo $t$ √© $\epsilon_t$, onde $\epsilon_t$ s√£o independentes e identicamente distribu√≠dos com vari√¢ncia $\sigma^2$.
Para $n$ per√≠odos futuros, as previs√µes s√£o $\hat{y}_{t+1}, \hat{y}_{t+2}, \ldots, \hat{y}_{t+n}$. Se os erros na estimativa da tend√™ncia s√£o negligenci√°veis quando comparados com os erros associados aos dados originais, temos que a vari√¢ncia da previs√£o √© dominada pela vari√¢ncia dos erros $\epsilon_t$. Portanto, a vari√¢ncia da proje√ß√£o em um per√≠odo futuro √© $Var(\hat{y}_t) = Var(\epsilon_t)=\sigma^2$.
Como os erros s√£o independentes, a vari√¢ncia da proje√ß√£o para dois per√≠odos futuros √©:
$Var(\hat{y}_{t+1} + \hat{y}_{t+2}) = Var(\epsilon_{t+1} + \epsilon_{t+2})= Var(\epsilon_{t+1})+Var(\epsilon_{t+2})= 2\sigma^2$.
Generalizando para $n$ per√≠odos futuros:
$Var(\sum_{i=1}^{n} \hat{y}_{t+i})= Var(\sum_{i=1}^{n} \epsilon_{t+i})=\sum_{i=1}^{n} Var(\epsilon_{t+i})= n\sigma^2$.
Logo, a vari√¢ncia da proje√ß√£o aumenta linearmente com o n√∫mero de per√≠odos. $\blacksquare$
Este processo assegura que as proje√ß√µes de demanda incluam tanto o movimento de longo prazo (tend√™ncia) quanto as flutua√ß√µes regulares (sazonalidade) presentes nos dados hist√≥ricos.

> üí° **Exemplo Num√©rico:** Usando os dados da loja de eletr√¥nicos, e assumindo que j√° modelamos a tend√™ncia usando regress√£o por MQ e encontramos um $\sigma^2 = 5$ para a vari√¢ncia dos erros, vamos mostrar como a vari√¢ncia da previs√£o aumenta com o n√∫mero de per√≠odos. Suponha que queremos projetar as vendas para os pr√≥ximos 4 trimestres.
>
> *   Vari√¢ncia da previs√£o para 1 per√≠odo: $\sigma^2 = 5$
> *   Vari√¢ncia da previs√£o para 2 per√≠odos: $2\sigma^2 = 10$
> *   Vari√¢ncia da previs√£o para 3 per√≠odos: $3\sigma^2 = 15$
> *   Vari√¢ncia da previs√£o para 4 per√≠odos: $4\sigma^2 = 20$
>
> Este exemplo ilustra que a incerteza nas previs√µes aumenta linearmente com o horizonte de proje√ß√£o.

### Conclus√£o
A an√°lise de *s√©ries temporais* que cont√™m componentes de tend√™ncia e sazonalidade requer uma abordagem que combine modelos de regress√£o com √≠ndices sazonais. Este cap√≠tulo detalhou o processo de decomposi√ß√£o, onde a regress√£o por m√≠nimos quadrados modela a tend√™ncia subjacente dos dados *deseasonalizados*, enquanto os √≠ndices sazonais s√£o usados para ajustar as previs√µes de acordo com as flutua√ß√µes regulares. Ao usar esta combina√ß√£o, modelos mais robustos podem ser desenvolvidos, melhorando a precis√£o das proje√ß√µes e consequentemente, a tomada de decis√£o. A combina√ß√£o de √≠ndices sazonais e regress√£o por m√≠nimos quadrados permite a cria√ß√£o de modelos de previs√£o que consideram ambos os aspectos, sendo uma ferramenta valiosa para gestores que buscam otimizar o planejamento e a aloca√ß√£o de recursos.

### Refer√™ncias
[^5]: Chapter 3 - Forecasting Demand, p. 58
[^58]: Chapter 3 - Forecasting Demand, p. 59
[^59]: Chapter 3 - Forecasting Demand, p. 59
[^60]: Chapter 3 - Forecasting Demand, p. 60
[^74]: Chapter 3 - Forecasting Demand, p. 74
[^75]: Chapter 3 - Forecasting Demand, p. 75
[Lema 1.1]: See previous chapter on "T√©cnicas para Sazonalidade em S√©ries Temporais", Lema 1.1.
[Lema 1.2]: See previous chapter on "T√©cnicas para Sazonalidade em S√©ries Temporais", Lema 1.2.
[Proposi√ß√£o 1]: See previous chapter on "T√©cnicas para Sazonalidade em S√©ries Temporais", Proposi√ß√£o 1.
[Teorema 2]: See previous chapter on "T√©cnicas para Sazonalidade em S√©ries Temporais", Teorema 2.
[Teorema 2.1]: See previous chapter on "T√©cnicas para Sazonalidade em S√©ries Temporais", Teorema 2.1.
<!-- END -->
